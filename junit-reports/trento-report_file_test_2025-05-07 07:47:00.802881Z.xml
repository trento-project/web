<?xml version="1.0"?><testsuites><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.AccessTokenTest" tests="2" time="0.0020"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/auth/access_token_test.exs" classname="Elixir.TrentoWeb.AccessTokenTest" name="test generate_access_token!/1 should generate and sign a jwt token with the default claims correctly set" time="0.0010"/><testcase file="test/trento_web/auth/access_token_test.exs" classname="Elixir.TrentoWeb.AccessTokenTest" name="test generate_access_token!/1 should merge the custom claims with the default after signing" time="0.0010"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.DiscoveryControllerTest" tests="4" time="4.8331"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/discovery_controller_test.exs" classname="Elixir.TrentoWeb.V1.DiscoveryControllerTest" name="test discovery collect action should return an unprocessable entity error when the event is unknown" time="0.3033"/><testcase file="test/trento_web/controllers/v1/discovery_controller_test.exs" classname="Elixir.TrentoWeb.V1.DiscoveryControllerTest" name="test discovery collect action should accept nil payloads" time="0.3218"/><testcase file="test/trento_web/controllers/v1/discovery_controller_test.exs" classname="Elixir.TrentoWeb.V1.DiscoveryControllerTest" name="test discovery collect action discards application instance registrations when the associated database does not exists" time="0.2187"/><testcase file="test/trento_web/controllers/v1/discovery_controller_test.exs" classname="Elixir.TrentoWeb.V1.DiscoveryControllerTest" name="test discovery collect action discards application instance registrations when the dispatch fails" time="3.9893"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.Trento.ActivityLog.MetadataEnricherTest" tests="20" time="9.4191"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test domain event activity log metadata enrichment should enrich with database sid" time="0.3085"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks customization activities should enrich check_customization_reset" time="0.3913"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching operation activities should enrich operation completed events in hosts" time="0.2059"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test should pass through unsupported activities" time="0.2570"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks execution requests should enrich host checks execution request" time="0.3128"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks execution requests should pass through unrecognizable checks execution requests" time="0.4195"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching operation activities should enrich operation requested events in hosts" time="0.0506"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching tagging/untagging activities should pass through enriching unrecognized taggable resources" time="0.1601"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching tagging/untagging activities should enrich tagging activities" time="0.2340"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test metadata enrichment combination should combine metadata enrichment when some components are not yet available" time="0.4824"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test domain event activity log metadata enrichment should not enrich domain events related metadata already having required info" time="0.2293"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test metadata enrichment combination should combine metadata enrichment when all components are available and 'hostname_is_available'" time="0.5548"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test domain event activity log metadata enrichment should enrich with sap system sid" time="0.2653"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks customization activities should enrich check_customization_applied" time="0.3180"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test domain event activity log metadata enrichment should enrich with hostname" time="0.3172"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks execution requests should enrich user deletion request" time="0.3361"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test domain event activity log metadata enrichment should enrich with clustername" time="0.4288"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 406ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}"> 17) test domain event activity log metadata enrichment should enrich with clustername (Trento.ActivityLog.MetadataEnricherTest)
     test/trento/activity_logging/metadata_enricher_test.exs:391
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 406ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/data_case.ex:33: Trento.DataCase.__ex_unit_setup_0/1
       (trento 2.4.0) test/support/data_case.ex:1: Trento.DataCase.__ex_unit__/2
       test/trento/activity_logging/metadata_enricher_test.exs:1: Trento.ActivityLog.MetadataEnricherTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching tagging/untagging activities should not enrich tagging activities for missing resources" time="0.1470"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test enriching checks execution requests should enrich cluster checks execution request" time="0.9907"/><testcase file="test/trento/activity_logging/metadata_enricher_test.exs" classname="Elixir.Trento.ActivityLog.MetadataEnricherTest" name="test metadata enrichment combination should combine metadata enrichment when all components are available and 'hostname_is_not_available'" time="3.0097"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterApplicationInstanceTest" tests="3" time="0.0259"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_application_instance_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterApplicationInstanceTest" name="test should return an enriched command if the database was found by the ip and tenant" time="0.0105"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_application_instance_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterApplicationInstanceTest" name="test should return a database not found error if the database instance host has been deregistered" time="0.0073"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_application_instance_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterApplicationInstanceTest" name="test should return an error if the database was not found" time="0.0081"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" tests="16" time="8.1226"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should not fetch the user when the jwt signature is valid but the audience is not valid" time="0.2567"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should not fetch a user when the jwt signature is invalid" time="0.2605"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should return an error if the refresh token is signed but the audience is different then trento_app" time="0.3931"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test delete/2 should no-op and return the passed conn" time="0.0282"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should return an error if the refresh token is malformed" time="0.2462"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should not renew a token if the token is valid but the associated user is locked" time="0.2871"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test create/3 should add to the conn the access/refresh token pair and the expiration" time="0.3922"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should renew a token and put it in the conn private if the refresh token is valid" time="0.6066"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should not renew a token if the token is valid but the associated user is deleted" time="0.3886"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should not fetch user when the header is missing" time="0.3408"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should fetch a user when the jwt is valid" time="0.3770"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should not fetch user when the jwt is malformed" time="0.2219"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should return an error is the refresh token signature is valid but it's expired" time="0.4521"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test fetch/2 should not fetch user when the jwt signature is valid but it's expired" time="0.1545"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should not renew a token if the token is valid but the associated user is not found" time="1.4134"/><testcase file="test/trento_web/plugs/app_jwt_auth_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AppJWTAuthPlugTest" name="test renew/2 should return an error if the refresh token signature is invalid" time="2.3037"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystems.SapSystemTest" tests="40" time="0.3817"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System health should change the health of a SAP System when an Application has changed the health status" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should restore a sap system with a new health when abap/messageserver instances are present" time="0.0004"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should add an application instance to a non registered SAP system when the instance is MESSAGESERVER without completing a SAP system registration" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test tombstoning should tombstone a deregistered SAP system when no ABAP or JAVA application instances are left" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should deregister an ENQREP Application Instance, SAP system registered" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should not update a SAP System if the coming data didn't change the current state" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should deregister Message Server and deregister SAP System" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should deregister an ABAP Application Instance without deregistering the SAP system" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should register a SAP System and add an application instance when a MESSAGESERVER instance is already present and a new ABAP instance is added" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should always deregister the SAP system when the deregistration command is received" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test instance marked absent/present should mark as absent a previously registered application instance" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should not restore a sap system when no abap/messageserver instances are present" time="0.0004"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should not register or move application, if the application has an already existing instance number and the host is the same" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should register and not move an application instance, if the instance number exists but it's in another host and the application is not clustered" time="0.0005"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should reject all the commands except for the registration/instance deregistration ones, when the SAP system is deregistered" time="0.0004"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should restore a SAP system when abap/messageserver instances are present with the new health" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should not deregister an already deregistered SAP system even when the deregistration command is received" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should register a SAP System and add an application instance when an ABAP instance is already present and a new MESSAGESERVER instance is added" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test rollup should apply the rollup event and rehydrate the aggregate" time="0.0001"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should deregister last ABAP Application Instance and deregister SAP System" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should register a SAP System and add an application instance when a MESSAGESERVER instance is already present and a new JAVA instance is added" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should not restore a SAP system when the SAP system is not deregistered" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test rollup should not accept commands if a sap_system is in rolling up state" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should not emit a movement event if the coming instance using the same instance number continues in the same host" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test rollup should change the sap_system state to rolling up" time="0.0001"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test instance marked absent/present should mark as present an already registered, absent application instance" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should add an application instance to a registered SAP System" time="0.0005"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System health should change the health of the SAP system when its database health has changed" time="0.1013"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should not deregister an already deregistered application instance" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should restore a SAP system when abap/messageserver instances are present and the restore command is received" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System health should not change the health of a SAP System if no instance has changed the health status" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should add an application instance to a non registered SAP system when the instance is ABAP without complete a sap system registration" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should only deregister a Message Server from a not-fully-registered SAP system" time="0.0001"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should not add an application instance if the application instance was already registered" time="0.0002"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should not update a SAP System ENSA version if the coming application instance does not have ENSA data" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System health should change the health of a SAP System when a new Application instance is registered" time="0.0003"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should move an application instance if the host_id changed and the instance number already exists and the application is clustered" time="0.1127"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test SAP System registration should update a SAP System ENSA version if it was not set" time="0.0667"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test rollup should not accept a rollup command if a sap_system was not registered yet" time="0.0915"/><testcase file="test/trento/sap_systems/sap_system_test.exs" classname="Elixir.Trento.SapSystems.SapSystemTest" name="test deregistration should not deregister a not registered application instance" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.AbilityJSONTest" tests="2" time="0.0009"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/ability_view_json_test.exs" classname="Elixir.TrentoWeb.V1.AbilityJSONTest" name="test should render index.json" time="0.0004"/><testcase file="test/trento_web/views/v1/ability_view_json_test.exs" classname="Elixir.TrentoWeb.V1.AbilityJSONTest" name="test should render show.json" time="0.0006"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.HealthOverviewJSONTest" tests="2" time="2.3109"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/health_overview_view_json_test.exs" classname="Elixir.TrentoWeb.V1.HealthOverviewJSONTest" name="test renders overview.json should render all the fields" time="0.3232"/><testcase file="test/trento_web/views/v1/health_overview_view_json_test.exs" classname="Elixir.TrentoWeb.V1.HealthOverviewJSONTest" name="test renders overview.json should send empty cluster ids" time="1.9877"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.TagsControllerTest" tests="15" time="15.5874"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging hosts should remove a tag from a host" time="0.5626"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging clusters should remove a tag from a cluster" time="0.5228"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test Tag Validation should decline tag with whitespace" time="0.7033"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging sap systems and databases should add a tag to a database" time="0.4911"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging sap systems and databases should fail when attempting to remove a non existing tag from a sap system" time="0.6445"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging clusters should fail when attempting to remove a non existing tag from a cluster" time="0.5262"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test Tag Validation should decline tag with forbidden characters" time="0.5568"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging sap systems and databases should remove a tag from a sap system" time="0.9729"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging hosts should fail when attempting to remove a non existing tag from a host" time="1.4524"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging hosts should add a tag to a host" time="1.1930"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test forbidden actions should not return forbidden on any controller action if the user have the right ability for the tag resource" time="1.2462"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging clusters should add a tag to a cluster" time="1.5191"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test forbidden actions should return forbidden on any controller action if the user does not have the right permission" time="1.4235"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging sap systems and databases should add a tag to a sap system" time="1.8990"/><testcase file="test/trento_web/controllers/v1/tags_controller_test.exs" classname="Elixir.TrentoWeb.V1.TagsControllerTest" name="test tagging sap systems and databases should remove a tag from a database" time="1.8738"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.Plugs.LoadUserPlugTest" tests="3" time="2.9123"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/load_user_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.LoadUserPlugTest" name="test should load the user from the database using the stateless user details" time="0.4131"/><testcase file="test/trento_web/plugs/load_user_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.LoadUserPlugTest" name="test should keep an already loaded user details" time="0.4180"/><testcase file="test/trento_web/plugs/load_user_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.LoadUserPlugTest" name="test should pass through connections without user references" time="2.0812"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.UserIdentitiesTest" tests="4" time="0.2893"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/user_identities_test.exs" classname="Elixir.Trento.UserIdentitiesTest" name="test create_user/3 should create the user and assign the global abilities when the user is the default admin and the username is on the nickname claim" time="0.0563"/><testcase file="test/trento/user_identities_test.exs" classname="Elixir.Trento.UserIdentitiesTest" name="test create_user/3 should create the user and assign the global abilities when the user is the default admin and the username is on the username claim" time="0.0932"/><testcase file="test/trento/user_identities_test.exs" classname="Elixir.Trento.UserIdentitiesTest" name="test upsert/2 should not assign the global abilities to a user when the user is not the default admin" time="0.0730"/><testcase file="test/trento/user_identities_test.exs" classname="Elixir.Trento.UserIdentitiesTest" name="test upsert/2 should assign the global abilities to a user when the user is the default admin" time="0.0668"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.ApiKeyTest" tests="3" time="0.0016"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/auth/api_key_test.exs" classname="Elixir.TrentoWeb.ApiKeyTest" name="test generate_api_key!/2 should generate and sign a jwt token with the default claims and expiration correctly set" time="0.0004"/><testcase file="test/trento_web/auth/api_key_test.exs" classname="Elixir.TrentoWeb.ApiKeyTest" name="test generate_api_key!/2 should fallback to a default 'infinite' expiration date, if no expiration is provided" time="0.0006"/><testcase file="test/trento_web/auth/api_key_test.exs" classname="Elixir.TrentoWeb.ApiKeyTest" name="test generate_api_key!/2 should merge the custom claims with the default after signing" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.ActivityLogEventHandlerTest" tests="1" time="0.0174"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/activity_log_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.ActivityLogEventHandlerTest" name="test should log a domain event" time="0.0174"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Databases.Event.Upcaster.UpcastDatabaseIdTest" tests="2" time="0.0381"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases/events/upcaster/upcast_database_id_test.exs" classname="Elixir.Trento.Databases.Event.Upcaster.UpcastDatabaseIdTest" name="test UpcastDatabaseId upcasting, version 2 should upcast database id field when a legacy event is received" time="0.0002"/><testcase file="test/trento/databases/events/upcaster/upcast_database_id_test.exs" classname="Elixir.Trento.Databases.Event.Upcaster.UpcastDatabaseIdTest" name="test UpcastDatabaseId upcasting, version 2 should upcast to the current event" time="0.0379"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ActivityLogControllerTest" tests="19" time="20.3604"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test permission based access to users should not return redacted actors for user with all:users ability" time="0.4193"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController a malformed metadata search string yields an empty result set" time="0.8681"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should not return user management logs if user has all:foo ability" time="0.4554"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return activity logs after inserting a few entries." time="0.5201"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response of paginated first, second and third page of results" time="0.5609"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response of empty list if no actor matches provided with suitable params" time="0.7147"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return user management logs if user has all:users ability" time="0.5091"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response (empty list) if no activity logs entries exist" time="0.6249"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response (list with 25 elements) for actor=aktor if provided with suitable params" time="0.5196"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return debug and above severity level entries by default" time="0.5360"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test permission based access to users should return redacted actors for user without required ability" time="0.9098"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test permission based access to users should not return redacted actors for user with activity_log:users ability" time="1.5872"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should search log entries by metadata" time="1.1522"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return critical severity level entries with appropriate query params" time="1.2860"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response of entries provided with date ranges params" time="1.1949"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test permission based access to users should not return redacted actors for user with all:all ability" time="1.4449"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response (list with 10 elements) if provided with suitable params" time="1.8768"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test ActivityLogController should return valid response of a list for type Tagging entries provided with suitable params" time="1.1082"/><testcase file="test/trento_web/controllers/v1/activity_log_controller_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogControllerTest" name="test permission based access to users should forbid querying by actor other than self and system when user is not allowed" time="4.0722"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ProfileJSONTest" tests="2" time="0.1564"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/profile_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ProfileJSONTest" name="test renders profile.json should correctly render a user profile when the user has no analytics preference" time="0.0829"/><testcase file="test/trento_web/views/v1/profile_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ProfileJSONTest" name="test renders profile.json should correctly render a user profile when the user has an analytics preference" time="0.0735"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.RollUp.RollUpTest" tests="1" time="0.1738"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/roll_up/roll_up_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.RollUp.RollUpTest" name="test should roll-up and append roll-up event" time="0.1738"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Users.UsersTest" tests="5" time="0.0062"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/users/user_test.exs" classname="Elixir.Trento.Users.UsersTest" name="test validation changeset/2 validates email and fullname fields are required" time="0.0017"/><testcase file="test/trento/users/user_test.exs" classname="Elixir.Trento.Users.UsersTest" name="test validation changeset/2 validates analytics_enabled_at field is cast properly" time="0.0010"/><testcase file="test/trento/users/user_test.exs" classname="Elixir.Trento.Users.UsersTest" name="test validation changeset/2 validates the email field" time="0.0010"/><testcase file="test/trento/users/user_test.exs" classname="Elixir.Trento.Users.UsersTest" name="test validation update_changeset/2 validates totp_enabled_at unique valid value is nil" time="0.0012"/><testcase file="test/trento/users/user_test.exs" classname="Elixir.Trento.Users.UsersTest" name="test validation changeset/2 validates repetitive and sequential password" time="0.0013"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.HostsTest" tests="18" time="0.0754"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should log an error message when host checks execution is requested but no checks selected" time="0.0052"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should not start an execution for an unregistered host" time="0.0050"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Check Selection should dispatch command on Check Selection" time="0.0012"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test SLES Subscriptions No SLES4SAP Subscriptions detected" time="0.0033"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test get_host_by_id/1 should return nil if host does not exist" time="0.0035"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test get_host_by_id/1 should return nil if host is deregistered" time="0.0042"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Check Selection should return command dispatching error" time="0.0015"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test SLES Subscriptions Detects the correct number of SLES4SAP Subscriptions" time="0.0105"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test get_host_by_id/1 should return host" time="0.0075"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should not start an execution with an empty selection" time="0.0066"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test request operation should return operation_not_found if the given operation does not exist" time="0.0050"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test request operation should request saptune_solution_apply operation" time="0.0011"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should start an execution" time="0.0023"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should return an error on message publishing failure" time="0.0020"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test retrieving a host by identifier should return an existent host, whether it is registered or not" time="0.0031"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test Checks Execution should request host checks execution for hosts when checks are selected" time="0.0028"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test get_all_hosts/0 should list all hosts except the deregistered ones" time="0.0090"/><testcase file="test/trento/hosts_test.exs" classname="Elixir.Trento.HostsTest" name="test retrieving a host by identifier should not return a non existent host" time="0.0017"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" tests="5" time="1.8898"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/operations_policy_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" name="test should return not found if the given resource is not found" time="0.3698"/><testcase file="test/trento_web/plugs/operations_policy_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" name="test should authorize operation and assign to assigns_to" time="0.2365"/><testcase file="test/trento_web/plugs/operations_policy_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" name="test should return operation not found if the given operation is not found" time="0.4206"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 420ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  3) test should return operation not found if the given operation is not found (TrentoWeb.Plugs.OperationsPolicyPlugTest)
     test/trento_web/plugs/operations_policy_plug_test.exs:38
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 420ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/plugs/operations_policy_plug_test.exs:1: TrentoWeb.Plugs.OperationsPolicyPlugTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/plugs/operations_policy_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" name="test should authorize operation" time="0.1429"/><testcase file="test/trento_web/plugs/operations_policy_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.OperationsPolicyPlugTest" name="test should forbid operation if the resourcec is not authorized" time="0.7199"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.Trento.Infrastructure.Alerting.AlertingTest" tests="11" time="7.4438"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify Database Health going critical" time="0.2415"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Enabling/Disabling Alerting Feature No email should be sent when alerting is disabled" time="0.4790"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Should not notify if the api key expiration is infinite" time="0.2466"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify api key is expired" time="0.5435"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify SAP System Health going critical" time="0.3112"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Enabling/Disabling Alerting Feature An error should be raised when alerting is enabled but no recipient was provided" time="0.3291"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify api key will be expired soon" time="0.4254"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 425ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  7) test Alerting the configured recipient about crucial facts with email notifications Notify api key will be expired soon (Trento.Infrastructure.Alerting.AlertingTest)
     test/trento/infrastructure/alerting/alerting_test.exs:75
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 425ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/data_case.ex:33: Trento.DataCase.__ex_unit_setup_0/1
       (trento 2.4.0) test/support/data_case.ex:1: Trento.DataCase.__ex_unit__/2
       test/trento/infrastructure/alerting/alerting_test.exs:1: Trento.Infrastructure.Alerting.AlertingTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting errors should be caught if SMTP server is wrongly set up" time="0.6389"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify Cluster Health going critical" time="0.3012"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Enabling/Disabling Alerting Feature An error should be raised when alerting is enabled but no sender was provided" time="1.6914"/><testcase file="test/trento/infrastructure/alerting/alerting_test.exs" classname="Elixir.Trento.Infrastructure.Alerting.AlertingTest" name="test Alerting the configured recipient about crucial facts with email notifications Notify Host Health going critical" time="2.2359"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Operations.DatabaseInstancePolicyTest" tests="5" time="0.0815"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/operations/database_instance_policy_test.exs" classname="Elixir.Trento.Operations.DatabaseInstancePolicyTest" name="test should forbid unknown operation" time="0.0001"/><testcase file="test/trento/operations/database_instance_policy_test.exs" classname="Elixir.Trento.Operations.DatabaseInstancePolicyTest" name="test maintenance should forbid operation if the database instance is not stopped and cluster is not in maintenance" time="0.0003"/><testcase file="test/trento/operations/database_instance_policy_test.exs" classname="Elixir.Trento.Operations.DatabaseInstancePolicyTest" name="test maintenance should forbid operation if the database instance is not stopped" time="0.0005"/><testcase file="test/trento/operations/database_instance_policy_test.exs" classname="Elixir.Trento.Operations.DatabaseInstancePolicyTest" name="test maintenance should authorize operation if the cluster is in maintenance mode" time="0.0010"/><testcase file="test/trento/operations/database_instance_policy_test.exs" classname="Elixir.Trento.Operations.DatabaseInstancePolicyTest" name="test maintenance should authorize operation if the database instance is not clustered" time="0.0796"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.EventParser" tests="4" time="0.0023"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/event_parser_test.exs" classname="Elixir.Trento.ActivityLog.EventParser" name="test actor detection should not detect actor for unrecognized input" time="0.0005"/><testcase file="test/trento/activity_logging/event_parser_test.exs" classname="Elixir.Trento.ActivityLog.EventParser" name="test actor detection should detect actor for recognized input" time="0.0005"/><testcase file="test/trento/activity_logging/event_parser_test.exs" classname="Elixir.Trento.ActivityLog.EventParser" name="test metadata extraction should detect metadata for recognized input" time="0.0006"/><testcase file="test/trento/activity_logging/event_parser_test.exs" classname="Elixir.Trento.ActivityLog.EventParser" name="test metadata extraction should fallback to empty map for unrecognized input" time="0.0007"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.StructHelperTest" tests="1" time="0.0002"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/struct_helper_test.exs" classname="Elixir.Trento.Support.StructHelperTest" name="test to_atomize_map/1 should map plain keys to atom keys" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" tests="14" time="0.0480"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get ram_cache_and_buffer data" time="0.0030"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_busy_system data" time="0.0042"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test should return not found is the host is not registered" time="0.0019"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_busy_iowait data" time="0.0027"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_busy_other data" time="0.0022"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get ram_total data" time="0.0025"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get num_cpus" time="0.0031"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_busy_irqs data" time="0.0040"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get ram_free data" time="0.0035"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get ram_used data" time="0.0023"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get swap_used data" time="0.0032"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_idle data" time="0.0020"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should return no samples when no data is found" time="0.0022"/><testcase file="test/trento/infrastructure/prometheus/adapters/prometheus_api_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.PrometheusApiTest" name="test host chart fetching should get cpu_busy_user data" time="0.0111"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Operations.ApplicationInstancePolicyTest" tests="5" time="0.2655"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/operations/application_instance_policy_test.exs" classname="Elixir.Trento.Operations.ApplicationInstancePolicyTest" name="test should forbid unknown operation" time="0.0001"/><testcase file="test/trento/operations/application_instance_policy_test.exs" classname="Elixir.Trento.Operations.ApplicationInstancePolicyTest" name="test maintenance should forbid operation if the application instance is not stopped and cluster is not in maintenance" time="0.0003"/><testcase file="test/trento/operations/application_instance_policy_test.exs" classname="Elixir.Trento.Operations.ApplicationInstancePolicyTest" name="test maintenance should forbid operation if the application instance is not stopped" time="0.0004"/><testcase file="test/trento/operations/application_instance_policy_test.exs" classname="Elixir.Trento.Operations.ApplicationInstancePolicyTest" name="test maintenance should authorize operation if the cluster is in maintenance mode" time="0.0010"/><testcase file="test/trento/operations/application_instance_policy_test.exs" classname="Elixir.Trento.Operations.ApplicationInstancePolicyTest" name="test maintenance should authorize operation if the application instance is not clustered" time="0.2637"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.VaultTest" tests="2" time="0.0007"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/vault_test.exs" classname="Elixir.Trento.VaultTest" name="test should encrypt plain content" time="0.0003"/><testcase file="test/trento/vault_test.exs" classname="Elixir.Trento.VaultTest" name="test should decrypt to plain content" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ChartsTest" tests="6" time="0.0410"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host cpu charts should return an error if the host does not exists" time="0.0019"/><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host_memory_charts should return an HostMemoryChart with empty series when no data is found" time="0.0189"/><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host_memory_charts should return results for each section of the memory chart when data is found" time="0.0052"/><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host cpu charts should return results for each section of the cpu chart when data is found" time="0.0070"/><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host_memory_charts should return an error if the host does not exists" time="0.0018"/><testcase file="test/trento/charts_test.exs" classname="Elixir.Trento.ChartsTest" name="test host cpu charts should return ChartTimeSeries struct with empty series when cpu data is not found" time="0.0063"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.ActivityLogTest" tests="6" time="3.9733"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with one day retention" time="0.3214"/><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with two years retention" time="0.2945"/><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with two months retention" time="0.3993"/><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with two days retention" time="0.1880"/><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with one month retention" time="0.6277"/><testcase file="test/trento/activity_logging/activity_log_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLogTest" name="test clear_expired_logs clear expired logs with one week retention" time="2.1424"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" tests="17" time="0.0232"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test delta deregistration should deregister all instances if the discovered instances contains an empty list inside a regular payload" time="0.0011"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should parse currentInstance if it is not sent in the payload" time="0.0006"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application and diagnostics is handled and the host is part of a cluster" time="0.0018"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type database is handled with multiple tenants" time="0.0008"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application is handled and a sap instance is not mounted" time="0.0018"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application is handled and the sap instance is not part of a cluster" time="0.0018"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application with ensa version is handled" time="0.0012"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type database is handled" time="0.0007"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application is handled and the sap instance is part of a cluster" time="0.0020"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test delta deregistration should deregister the old instances and register the new ones" time="0.0009"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test validation should fail if an application instance payload does not have a dbname entry in the profile" time="0.0007"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return an empty list of commands if an empty payload is received" time="0.0004"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test delta deregistration should not deregister any instance if the discovered instances did not change" time="0.0006"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application and diagnostics is handled" time="0.0007"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test delta deregistration should deregister all instances if the discovered instances is an empty list" time="0.0008"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type database is handled in the event of a stopped instance" time="0.0061"/><testcase file="test/trento/discovery/policies/sap_system_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.SapSystemPolicyTest" name="test should return the expected commands when a sap_system payload of type application is handled" time="0.0013"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.ErrorJSONTest" tests="10" time="0.0080"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 500 error" time="0.0004"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 400 error" time="0.0004"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 422 error (validation error)" time="0.0004"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 422 error (string)" time="0.0004"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a generic error based on the template name" time="0.0011"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 401 error" time="0.0024"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 404 error" time="0.0008"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 422 error (changeset) with interpolated values" time="0.0007"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 403 error" time="0.0008"/><testcase file="test/trento_web/views/error_view_json_test.exs" classname="Elixir.TrentoWeb.ErrorJSONTest" name="test should render a 422 error (changeset)" time="0.0006"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" tests="6" time="0.0365"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should deregister host if deregistration request is outside debounce period" time="0.0062"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should return an error if host does not exist" time="0.0023"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should return an error when deregistering a host that is already deregistered and does not have a heartbeat entry" time="0.0060"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should deregister host if host does not have a heartbeat entry" time="0.0073"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should return an error when deregistering a host that is already deregistered" time="0.0056"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_request_host_deregistration_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRequestHostDeregistrationTest" name="test enrich RequestHostDeregistration should return an error if deregistration request is within debounce period" time="0.0090"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.PolicyTest" tests="12" time="0.0069"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow unguarded actions" time="0.0006"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test request_operation should allow saptune_solution_apply operation if the user has saptune_solution_apply:host ability" time="0.0006"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow select_checks action if the user has all:host_checks_selection ability" time="0.0005"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow delete action if the user has cleanup:host ability" time="0.0005"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should not allow request_checks_execution action if the user does not have the all:host_checks_execution ability" time="0.0004"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test request_operation should allow saptune_solution_apply operation if the user has all:all ability" time="0.0006"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should disallow select_checks action if the user does not have all:host_checks_selection ability" time="0.0005"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow request_checks_execution action if the user has all:all ability" time="0.0007"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test request_operation should disallow saptune_solution_apply operation if the user does not have saptune_solution_apply:host ability" time="0.0007"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should disallow delete action if the user does not have cleanup:host ability" time="0.0007"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow request_checks_execution action if the user has all:host_checks_execution ability" time="0.0006"/><testcase file="test/trento/hosts/policy_test.exs" classname="Elixir.Trento.Hosts.PolicyTest" name="test should allow delete action if the user has all:all ability" time="0.0008"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ClusterControllerTest" tests="7" time="9.7441"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test list should list all clusters" time="1.4828"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test request check executions should return 500 if messaging returns an error" time="1.1353"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test request check executions should return 422 when the selection is empty" time="1.2655"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test select_checks should return 202 when the checks were selected" time="1.3581"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test request check executions should return 404 when the cluster is not found" time="1.3318"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test request check executions should perform the request when the user has all:cluster_checks_execution ability" time="1.8288"/><testcase file="test/trento_web/controllers/v1/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V1.ClusterControllerTest" name="test forbidden response should return forbidden on any controller action if the user does not have the right permission" time="1.3418"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.MonitoringChannelTest" tests="1" time="0.0008"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/channels/monitoring_channel_test.exs" classname="Elixir.TrentoWeb.MonitoringChannelTest" name="test broadcasts are pushed to the client" time="0.0008"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.SeverityLevelTest" tests="6" time="0.0006"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map unmapped activity type to info" time="0.0001"/><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map conditional key suffix types with no metadata correctly" time="0.0001"/><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map key exists activity types appropriately in the info case" time="0.0001"/><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map explicitly mapped activity types correctly" time="0.0001"/><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map key exists activity types appropriately in the warning case" time="0.0001"/><testcase file="test/trento/activity_logging/severity_level_test.exs" classname="Elixir.Trento.ActivityLog.SeverityLevelTest" name="test map_severity_level/3 should map conditional key suffix types appropriately" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Operations.OperationsTest" tests="3" time="0.0017"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/operations/operations_test.exs" classname="Elixir.Trento.Infrastructure.Operations.OperationsTest" name="test request operation should publish an OperationRequested event" time="0.0005"/><testcase file="test/trento/infrastructure/operations/operations_test.exs" classname="Elixir.Trento.Infrastructure.Operations.OperationsTest" name="test request operation should return messaging error" time="0.0007"/><testcase file="test/trento/infrastructure/operations/operations_test.exs" classname="Elixir.Trento.Infrastructure.Operations.OperationsTest" name="test map operation type should map the internal operation type to a known name" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Settings.PolicyTest" tests="14" time="0.0030"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test suse manager settings authorization should allow suma settings actions if the user has all:suma_settings ability" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test activity log settings authorization should not allow updating activity logs  for other abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test api key settings suthorization should allow generating a new api key if the user has all:all ability" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test activity log settings authorization should allow updating activity logs settings if the user has all:all ability" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test api key settings suthorization should not allow new api key generation when user has no abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test activity log settings authorization should not allow updating activity logs settings if the user has no abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test api key settings suthorization should allow generating a new api key if the user has all:api_key_settings ability" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test api key settings suthorization should not allow new api key generation for other abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test suse manager settings authorization should allow suma settings actions if the user has no abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test suse manager settings authorization should allow suma settings actions if the user has all:all ability" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test suse manager settings authorization should disallow creating, updating or changing suma settings if the user has no abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test activity log settings authorization should allow getting current activity logs settings if the user has default abilities" time="0.0002"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test api key settings suthorization should allow getting api key settings with default abilities" time="0.0003"/><testcase file="test/trento/settings/policy_test.exs" classname="Elixir.Trento.Settings.PolicyTest" name="test activity log settings authorization should allow updating activity logs settings if the user has all:activity_logs_settings ability" time="0.0004"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.UsersJSONTest" tests="4" time="1.7185"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/users_view_json_test.exs" classname="Elixir.TrentoWeb.V1.UsersJSONTest" name="test renders user.json should correctly render a user when the user has user identities" time="0.3696"/><testcase file="test/trento_web/views/v1/users_view_json_test.exs" classname="Elixir.TrentoWeb.V1.UsersJSONTest" name="test renders user.json should correctly render a user when the user has no user identities" time="0.4817"/><testcase file="test/trento_web/views/v1/users_view_json_test.exs" classname="Elixir.TrentoWeb.V1.UsersJSONTest" name="test renders user.json should correctly render a user when the user has an analytics preference" time="0.5088"/><testcase file="test/trento_web/views/v1/users_view_json_test.exs" classname="Elixir.TrentoWeb.V1.UsersJSONTest" name="test renders user.json should correctly render a user when the user has no analytics preference" time="0.3584"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.Test" tests="1" time="0.0002"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/protobuf_test.exs" classname="Elixir.Trento.Support.Test" name="test from_map" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Catalog.AMQP.ProcessorTest" tests="4" time="4.0530"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/catalog/processor_test.exs" classname="Elixir.Trento.Infrastructure.Catalog.AMQP.ProcessorTest" name="test catalog amqp processor should return error if the event cannot be decoded" time="0.3770"/><testcase file="test/trento/infrastructure/catalog/processor_test.exs" classname="Elixir.Trento.Infrastructure.Catalog.AMQP.ProcessorTest" name="test catalog amqp processor should process CheckCustomizationApplied" time="0.2436"/><testcase file="test/trento/infrastructure/catalog/processor_test.exs" classname="Elixir.Trento.Infrastructure.Catalog.AMQP.ProcessorTest" name="test catalog amqp processor should gracefully handle missing user information" time="0.8827"/><testcase file="test/trento/infrastructure/catalog/processor_test.exs" classname="Elixir.Trento.Infrastructure.Catalog.AMQP.ProcessorTest" name="test catalog amqp processor should process OperatCheckCustomizationReset" time="2.5497"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.V1.SettingsControllerTest" tests="34" time="24.2564"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return 422 status if no body is provided in request" time="0.0578"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return 204 if no user settings have previously been saved" time="0.0889"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return user settings" time="0.4484"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should properly update ca_cert and its upload date when a new cert is provided" time="0.4359"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test forbidden response should return forbidden when user tries to create settings without right abilities" time="0.2480"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ActivityLogSettings should not return activity retention settings without setting up" time="0.0940"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test forbidden response should return forbidden when user tries to update settings without right abilities" time="0.2400"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test should return the settings according to the schema" time="0.1018"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test forbidden response should return forbidden if the user does not have the permission to update the api key" time="0.1487"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should properly remove ca_cert and its upload date" time="0.4437"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should consistently return the same generated key across different requests with the same settings" time="0.1641"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should update the api key settings if it is configured returning the updated settings" time="0.3731"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SSOCertificatesSettings should return uploaded certificates public content in the public_keys route" time="0.4617"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return 422 on test connection failure" time="0.4131"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test forbidden response should return forbidden if the user does not have the permission to edit activity logs settings" time="0.5185"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ActivityLogSettings should update the activity log settings if it is configured returning the updated settings" time="0.4141"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should support partial change of suse manager settings" time="0.8288"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test should return forbidden when user tries to delete settings without right abilities" time="0.6029"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should return not found when api key settings are not configured" time="0.5553"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return 200 on successful test connection" time="0.5306"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should validate partial changes to suse manager settings" time="0.6648"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should not update the api key settings if it is not configured returning not found" time="0.5270"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should not process empty request body" time="0.6255"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return forbidden if no user settings have been saved" time="0.5459"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should not save invalid settings" time="0.5684"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should return 204 when user settings have previously been saved" time="0.9710"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should not save valid settings when previously settings have been saved" time="1.4158"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ActivityLogSettings should not update the activity log settings if it is not already configured" time="1.3093"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should save new valid settings if no previous settings have been saved" time="1.1269"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ActivityLogSettings should return activity retention settings after setting up" time="1.6587"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should not save settings if HTTP protocol provided in URL" time="1.4291"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should return the api key settings are configured" time="1.7249"/><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test ApiKeySettings should generate an infinite api key if the expiration in the settings is set to nil in an update" time="0.4220"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 422ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}"> 33) test ApiKeySettings should generate an infinite api key if the expiration in the settings is set to nil in an update (TrentoWeb.V1.SettingsControllerTest)
     test/trento_web/controllers/v1/settings_controller_test.exs:93
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 422ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/controllers/v1/settings_controller_test.exs:1: TrentoWeb.V1.SettingsControllerTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/controllers/v1/settings_controller_test.exs" classname="Elixir.TrentoWeb.V1.SettingsControllerTest" name="test SuseManagerSettings should not be able to change suse manager settings if none previously saved" time="4.0977"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.UserChannelTest" tests="2" time="0.0027"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/channels/user_channel_test.exs" classname="Elixir.TrentoWeb.UserChannelTest" name="test socket users can only join their channel" time="0.0015"/><testcase file="test/trento_web/channels/user_channel_test.exs" classname="Elixir.TrentoWeb.UserChannelTest" name="test non logged users cannot join a user channel" time="0.0012"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.TypeTest" tests="6" time="0.0015"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a struct should return errors if the parameters of an embedded and polymorphic fields could not be validated" time="0.0002"/><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a list of structs should return a list of structs" time="0.0002"/><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a list of structs should return an empty list" time="0.0002"/><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a struct should raise a RuntimeError if the parameters of an embedded and polymorphic fields could not be validated" time="0.0003"/><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a list of structs should validate the presence of a required embedded and polymorphic fields" time="0.0003"/><testcase file="test/trento/support/type_test.exs" classname="Elixir.Trento.Support.TypeTest" name="test build a struct should validate the presence of a required embedded and polymorphic fields" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.DatabasesTest" tests="7" time="0.0214"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test databases should retrieve all the currently registered existing databases and the related instances" time="0.0067"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test deregister_database_instance/4 should dispatch an database deregistration command" time="0.0051"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test get_database_instances_by_host_id/1 should return all the instances with the matching host_id" time="0.0047"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test databases should not return a non existent database" time="0.0008"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test get_database_instances_by_host_id/1 should return empty if no database instances were found" time="0.0011"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test databases should return an existent database, whether it is registered or not" time="0.0014"/><testcase file="test/trento/databases_test.exs" classname="Elixir.Trento.DatabasesTest" name="test deregister_database_instance/4 should not delete a present database instance" time="0.0016"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.DiscoveryTest" tests="9" time="0.0393"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test request discovery should handle publishing error on saptune discovery request" time="0.0008"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should retrieve the current set of discovery events" time="0.0066"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should discard discovery events when the dispatch action fails" time="0.0019"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should discard discovery events with invalid payload" time="0.0016"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should retrieve the discarded discovery events" time="0.0024"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should delete discarded events older than the specified days" time="0.0031"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test request discovery should request saptune discovery" time="0.0008"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should delete events older than the specified days" time="0.0127"/><testcase file="test/trento/discovery_test.exs" classname="Elixir.Trento.DiscoveryTest" name="test should continue accumulating discovery events if the first command fails" time="0.0093"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.UsersTest" tests="48" time="3.8447"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users validate_totp/2 refuses already used totp code" time="0.0836"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 with valid data updates the user" time="0.0656"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does not relock the user if enable false is passed as attribute and the user is already locked" time="0.0955"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users by_id/1 returns not found for unknown users" time="0.0550"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users validate_totp/2 validates only if totp is enabled" time="0.0897"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users create_user creates a disabled user" time="0.1416"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 lock the user if enable false is passed as attribute and the user is not locked" time="0.0593"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users delete_user/2 does not delete user with id 1" time="0.0010"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users get_user return a user with the abilities" time="0.0849"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users reset_totp/1 reset user topt values" time="0.0681"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users delete_user/1 deletes the user" time="0.1014"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users confirm_totp_enrollment/2 returns error if the user is the default admin" time="0.0016"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test user profile update_user_profile does not update the profile when fields are not present" time="0.0786"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 allows TOTP to be disabled but not enabled again" time="0.0747"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users initiate_totp_enrollment/1 returns a totp secret for enrollment" time="0.0673"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does no lock the user if enable true is passed as attribute and the user is not locked" time="0.0725"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users list_users returns all users except the deleted ones" time="0.1502"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test user profile update user profile sets analytics enabled value with current time" time="0.0616"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 requests password change if password is changed" time="0.1485"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does not update user with id 1" time="0.0007"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does not care for password validation when a user has user_identities associated" time="0.0138"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users by_id/1 get the user by its id" time="0.0871"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users get_user return a user with the user identities" time="0.0579"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users confirm_totp_enrollment/2 returns the updated user with otp configured if the otp is valid for enrollment secret" time="0.0875"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does not update deleted_at" time="0.0605"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users delete_user/1 deletes user abilities" time="0.0898"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test user profile update_user_profile does not require current password when the password field is not involved in the update" time="0.0621"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 returns stale error when the lock version in the update is not valid" time="0.0799"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 returns error if the email has already been taken" time="0.1434"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test user profile update_user_profile removes password change request if password is changed" time="0.2191"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 with invalid data does not update the user" time="0.0658"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users confirm_totp_enrollment/2 returns error if the user has already the totp enabled" time="0.0898"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users create_user with abilities attaches the abilities to the user" time="0.1031"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 updates the user abilities" time="0.0592"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users initiate_totp_enrollment/1 could not initiate enrollment for the default admin" time="0.0009"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 does unlock the user if enable true is passed as attribute and the user is locked" time="0.0920"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 deletes the user abilities" time="0.0611"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users create_user with valid data creates a user" time="0.0871"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users delete_user/1 deletes user identities" time="0.0905"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users create_user should return an error if the email has already been taken" time="0.1479"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users get_user returns an error when a user does not exist" time="0.0533"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users validate_totp/2 validates totp correctly" time="0.0911"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users create_user with invalid data returns error changeset" time="0.0007"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test user profile update_user_profile update only the user profile fields" time="0.1957"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users confirm_totp_enrollment/2 returns error if the totp is not valid for the secret" time="0.0938"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users get_user returns a user when the user exist" time="0.0563"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users update_user/2 will not update user username" time="0.0958"/><testcase file="test/trento/users_test.exs" classname="Elixir.Trento.UsersTest" name="test users initiate_totp_enrollment/1 returns error if the totp is already configured for the user" time="0.0580"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.Events.HostRegisteredTest" tests="1" time="0.0003"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/events/host_registered_test.exs" classname="Elixir.Trento.Hosts.Events.HostRegisteredTest" name="test HostRegistered event upcasting should upcast HostRegistered event properly from version 1" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.PrometheusJSONTest" tests="1" time="0.0007"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/prometheus_json_test.exs" classname="Elixir.TrentoWeb.V1.PrometheusJSONTest" name="test should render the targets of registered hosts" time="0.0007"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" tests="21" time="0.0508"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get affected packages for a single patch" time="0.0008"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get affected systems for a single patch" time="0.0007"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting upgradable packages fails" time="0.0007"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Setup SUMA connection should setup with successful authentication" time="0.0008"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return an error when relevant errata was not found for a given system ID" time="0.0071"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get a system for a given fqdn" time="0.0013"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get patches for a single package" time="0.0018"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Setup SUMA connection should fail during setup when authentication fails" time="0.0007"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should handle expired authentication" time="0.0009"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return an error when a system id was not found for a given fqdn" time="0.0012"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get Bugzilla fixes for an advisory" time="0.0010"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting affected systems for a patch fails" time="0.0011"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get details for a single errata" time="0.0010"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting affected packages for a patch fails" time="0.0008"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting patches for a specific package fails" time="0.0009"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get covered CVEs for a single patch" time="0.0025"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get upgradable packages for a given system ID" time="0.0143"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting CVEs for a patch fails" time="0.0016"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Clear authentication data should clear authentication state" time="0.0012"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should get errata for a given system ID" time="0.0015"/><testcase file="test/trento/infrastructure/software_updates/suma_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.SumaTest" name="test Integration service should return a proper error when getting errata details" time="0.0088"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" tests="5" time="0.0434"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/clusters/projections/cluster_projector_test.exs" classname="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" name="test should project a new cluster when ClusterRegistered event is received" time="0.0041"/><testcase file="test/trento/clusters/projections/cluster_projector_test.exs" classname="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" name="test should broadcast cluster_health_changed after the ClusterHealthChanged event" time="0.0032"/><testcase file="test/trento/clusters/projections/cluster_projector_test.exs" classname="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" name="test should update the cluster details when ClusterDetailsUpdated is received" time="0.0050"/><testcase file="test/trento/clusters/projections/cluster_projector_test.exs" classname="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" name="test should set deregistered_at field to nil when ClusterRestored is received" time="0.0113"/><testcase file="test/trento/clusters/projections/cluster_projector_test.exs" classname="Elixir.Trento.Clusters.Projections.ClusterProjectorTest" name="test should update the deregistered_at field when ClusterDeregistered is received" time="0.0197"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" tests="17" time="9.0357"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 for get_affected_packages unauthorized" time="0.2258"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 when affected systems not found" time="0.0748"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 when CVEs not found" time="0.3130"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve available software updates info should return upgradable packages and relevant patches" time="0.3825"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return errata details" time="0.4617"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve upgradable packages related patches should return an empty list if every call errors" time="0.4786"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 when advisory fixes not found" time="0.2907"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve available software updates info should return 403 when no settings have been saved" time="0.1738"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve upgradable packages related patches should return relevant patches grouped by package id" time="0.7712"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 for get_errata_details unauthorized" time="0.1973"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 for get_affected_systems unauthorized" time="0.5339"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 when affected packages not found" time="0.3107"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 for get_cves unauthorized" time="0.3260"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 when advisory details not found" time="0.4314"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 431ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}"> 14) test retrieve errata details should return 422 when advisory details not found (TrentoWeb.V1.SUSEManagerControllerTest)
     test/trento_web/controllers/v1/suse_manager_controller_test.exs:369
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 431ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/controllers/v1/suse_manager_controller_test.exs:1: TrentoWeb.V1.SUSEManagerControllerTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should return 422 for get_bugzilla_fixes unauthorized" time="0.3532"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve available software updates info should return 404 when a host is not found" time="0.3461"/><testcase file="test/trento_web/controllers/v1/suse_manager_controller_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerControllerTest" name="test retrieve errata details should filter out non-registered hosts from affected systems" time="3.3650"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.SapSystemJSONTest" tests="2" time="2.9672"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/sap_system_view_json_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemJSONTest" name="test SapSystemJSON should render sap_systems.json" time="0.6597"/><testcase file="test/trento_web/views/v1/sap_system_view_json_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemJSONTest" name="test SapSystemJSON should add the system replication status to the secondary instance and should remove it from the primary one" time="2.3076"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Services.HealthServiceTest" tests="4" time="0.0008"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/services/health_service_test.exs" classname="Elixir.Trento.Services.HealthServiceTest" name="test should aggregate healths to critical" time="0.0002"/><testcase file="test/trento/services/health_service_test.exs" classname="Elixir.Trento.Services.HealthServiceTest" name="test should aggregate healths to warning" time="0.0002"/><testcase file="test/trento/services/health_service_test.exs" classname="Elixir.Trento.Services.HealthServiceTest" name="test should aggregate healths to unknown" time="0.0002"/><testcase file="test/trento/services/health_service_test.exs" classname="Elixir.Trento.Services.HealthServiceTest" name="test should aggregate healths to passing" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystemsTest" tests="7" time="0.0180"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test sap_systems should retrieve all the currently registered existing sap systems and the related instances" time="0.0060"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test deregister_application_instance/4 should dispatch an application deregistration command" time="0.0012"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test get_application_instances_by_host_id/1 should return all the instances with the matching host_id" time="0.0052"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test sap_systems should not return a non existent sap system" time="0.0009"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test get_application_instances_by_host_id/1 should return an empty list if no application instances were found" time="0.0013"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test sap_systems should return an existent sap system, whether it is registered or not" time="0.0019"/><testcase file="test/trento/sap_systems_test.exs" classname="Elixir.Trento.SapSystemsTest" name="test deregister_application_instance/4 should not delete a not absent application instance" time="0.0015"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystems.Events.SapSystemRolledUpTest" tests="2" time="0.0003"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems/events/sap_system_rolled_up_test.exs" classname="Elixir.Trento.SapSystems.Events.SapSystemRolledUpTest" name="test SapSystemRolledUp event superseding should supersede DatabaseRolledUp when the snapshot has legacy data" time="0.0001"/><testcase file="test/trento/sap_systems/events/sap_system_rolled_up_test.exs" classname="Elixir.Trento.SapSystems.Events.SapSystemRolledUpTest" name="test SapSystemRolledUp event superseding should supersede SapSystemRolledUp when the snapshot format is the current one" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" tests="10" time="1.5411"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test clearing up integration service should clear service state" time="0.2440"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Process start up and identification should find an already started SUMA process" time="0.0007"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Authenticate should handle error when reaching maximum login retries" time="0.1778"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Authenticate should use an already authenticated auth cookie" time="0.2109"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test clearing up integration service should support clearing an already empty service state" time="0.3047"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Process start up and identification should start a new identifiable process" time="0.0009"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Authenticate should redact sensitive data in SUMA state" time="0.1311"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Authenticate without settings should return an error when settings are not configured" time="0.0009"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Process start up and identification should have expected initial state" time="0.0009"/><testcase file="test/trento/infrastructure/software_updates/auth/suma_auth_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Auth.SumaAuthTest" name="test Authenticate should successfully login after retrying" time="0.4693"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Databases.PolicyTest" tests="4" time="0.0020"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases/policy_test.exs" classname="Elixir.Trento.Databases.PolicyTest" name="test should allow delete_database_instance action if the user has cleanup:database_instance ability" time="0.0003"/><testcase file="test/trento/databases/policy_test.exs" classname="Elixir.Trento.Databases.PolicyTest" name="test should allow delete_database_instance action if the user has all:all ability" time="0.0003"/><testcase file="test/trento/databases/policy_test.exs" classname="Elixir.Trento.Databases.PolicyTest" name="test should allow unguarded actions" time="0.0004"/><testcase file="test/trento/databases/policy_test.exs" classname="Elixir.Trento.Databases.PolicyTest" name="test should disallow delete_database_instance action if the user does not have cleanup:database_instance ability" time="0.0010"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.RefreshTokenTest" tests="2" time="0.0010"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/auth/refresh_token_test.exs" classname="Elixir.TrentoWeb.RefreshTokenTest" name="test generate_refresh_token!/1 it should return a refresh token with the correct default claims" time="0.0005"/><testcase file="test/trento_web/auth/refresh_token_test.exs" classname="Elixir.TrentoWeb.RefreshTokenTest" name="test generate_refresh_token!/1 it should add custom claims to the refresh token" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.ActivityLogChannelTest" tests="7" time="9.5941"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test joining activity log users channel users can join the activity log channel" time="1.2187"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test publishing activity log users relevant users are pushed based on permission: no special permissions" time="1.0134"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test publishing activity log users relevant users are pushed based on permission: all:users" time="1.4410"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test joining activity log users channel Unauthorized users cannot join the activity log channel" time="1.0037"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test publishing activity log users relevant users are pushed based on permission: all:all" time="1.8396"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test joining activity log users channel Non logged users cannot join an activity log channel" time="1.2863"/><testcase file="test/trento_web/channels/activity_log_channel_test.exs" classname="Elixir.TrentoWeb.ActivityLogChannelTest" name="test publishing activity log users relevant users are pushed based on permission: activity_log:users" time="1.7915"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.V1.HostControllerTest" tests="23" time="21.4615"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should fallback to not found if the resource is not found" time="0.1503"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test delete should send 204 response when successful host deletion" time="0.4108"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test forbidden response should return forbidden on any controller action if the user does not have the right permission" time="0.4399"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Request check executions should return 404 when the host is not found" time="0.4875"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test list should list all hosts" time="0.4244"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Checks Selection should return 500 on any other error" time="0.8548"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Checks Selection should return 422 on invalid input" time="0.4927"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Request check executions should return 422 when the selection is empty" time="0.4962"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should request saptune solution apply operation" time="0.5769"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test heartbeat should return 404 if the host was not found" time="0.6201"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should perform saptune solution apply operation when the user has saptune_solution_apply:host ability" time="0.5897"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Checks Selection should return 404 if the host was not registered" time="0.6027"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should respond with 500 on messaging error" time="0.5376"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test delete should send 422 response if the host is still alive" time="0.5213"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should forbid saptune solution apply if conditions are unmet" time="0.8328"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should fallback to operation not found if the operation is not found" time="1.4480"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Request check executions should return 500 on messaging error" time="1.1032"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test delete should return 404 if the host was not found" time="1.2715"><failure message="error: error while verifying mocks for #PID&lt;0.3853.0>:

  * expected Trento.Commanded.Mock.dispatch/1 to be invoked once but it was invoked 0 times"> 18) test delete should return 404 if the host was not found (TrentoWeb.V1.HostControllerTest)
     test/trento_web/controllers/v1/host_controller_test.exs:321
     ** (Mox.VerificationError) error while verifying mocks for #PID&lt;0.3853.0&gt;:
     
       * expected Trento.Commanded.Mock.dispatch/1 to be invoked once but it was invoked 0 times
     stacktrace:
       (mox 1.1.0) lib/mox.ex:778: Mox.verify_mock_or_all!/3
       (ex_unit 1.15.7) lib/ex_unit/on_exit_handler.ex:143: ExUnit.OnExitHandler.exec_callback/1
       (ex_unit 1.15.7) lib/ex_unit/on_exit_handler.ex:129: ExUnit.OnExitHandler.on_exit_runner_loop/0
</failure></testcase><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Request check executions should return 202 when the execution was successfully started" time="1.3129"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test delete should allow the request when the user has cleanup:host ability" time="1.4266"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Checks Selection should return 202 when the checks were selected" time="1.6728"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test Request check executions should perform the request when the user has all:host_checks_execution ability" time="1.3858"/><testcase file="test/trento_web/controllers/v1/host_controller_test.exs" classname="Elixir.TrentoWeb.V1.HostControllerTest" name="test request operation should respond with 500 if saptune solution apply does not receive needed params" time="3.8031"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.ActivityCatalogTest" tests="26" time="0.1275"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: user_deletion" time="0.0045"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should ignore specific domain events" time="0.0021"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: changing_suma_settings" time="0.0052"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect activity from domain events" time="0.0069"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: resource_untagging" time="0.0072"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity exposure should expose connection related activities" time="0.0013"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should differentiate between legacy and current domain events" time="0.0052"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should ignore activity from not interesting connections with controller/action info" time="0.0032"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should not be able to detect an activity from a connection without controller/action info" time="0.0020"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: api_key_generation" time="0.0059"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: operation_requested" time="0.0071"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity exposure should expose domain event related activities" time="0.0020"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: host_checks_execution_request" time="0.0080"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should not detect activity from invalid input" time="0.0055"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: host_checks_selected" time="0.0068"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: clearing_suma_settings" time="0.0093"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: cluster_checks_selected" time="0.0062"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect activity from queue events" time="0.0041"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: profile_update" time="0.0047"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: saving_suma_settings" time="0.0046"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: user_creation" time="0.0046"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: resource_tagging" time="0.0049"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: user_modification" time="0.0045"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity exposure should expose queue event related activities" time="0.0009"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: login_attempt" time="0.0051"/><testcase file="test/trento/activity_logging/activity_catalog_test.exs" classname="Elixir.Trento.ActivityLog.ActivityCatalogTest" name="test activity detection should detect connection activity for: cluster_checks_execution_request" time="0.0056"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.HealthJSONTest" tests="2" time="0.0007"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/health_view_json_test.exs" classname="Elixir.TrentoWeb.HealthJSONTest" name="test should render data indicating that the database is in a healthy state" time="0.0004"/><testcase file="test/trento_web/views/health_view_json_test.exs" classname="Elixir.TrentoWeb.HealthJSONTest" name="test should render data indicating that the database is in an unhealthy state" time="0.0004"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" tests="29" time="0.0107"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should add database instance with the proper host id when DatabaseInstanceRegistered event is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should dispatch commands when HostDeregistrationRequested is emitted and the host belongs to a cluster and has no instances associated" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should continue the process manager when ApplicationInstanceDeregistered arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should dispatch DeregisterHost command when HostDeregistrationRequested is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should continue the process manager when HostDeregistrationRequested arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when HostRegistered event arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should dispatch commands when HostDeregistrationRequested is emitted and the host does not belong to a cluster and has instances associated" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when ApplicationInstanceRegistered event arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when DatabaseInstanceRegistered event arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should remove instance from state when ApplicationInstanceDeregistered event received" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should update the state and remove the cluster id when HostRemovedFromCluster event is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should continue the process manager when HostRemovedFromCluster arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update state when ApplicationInstaceMoved event is received adding the instance in the new host" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when HostRolledUp arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should remove instance from state when DatabaseInstanceDeregistered event received" time="0.0004"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update state when ApplicationInstaceMoved event is received removing the instance from the old host" time="0.0051"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when ClusterRolledUp arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update state when DatabaseRolledUp event received" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should stop the process manager when HostDeregistered arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update the state with the proper cluster id when ClusterRolledUp event is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host deregistration procedure should dispatch commands when HostDeregistrationRequested is emitted and the host belongs to a cluster and has instances associated" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should add application instance when ApplicationInstanceRegistered event is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should continue the process manager when DatabaseInstanceDeregistered arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should continue the process manager when ApplicationInstanceMoved arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start process managers when DatabaseRolledUp arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update the state with the proper cluster id when HostAddedToCluster event is emitted" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start the process manager when HostAddedToCluster arrives" time="0.0002"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test events interested should start process managers when SapSystemRolledUp arrives" time="0.0003"/><testcase file="test/trento/infrastructure/commanded/process_managers/deregistration_process_manager_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.ProcessManagers.DeregistrationProcessManagerTest" name="test host registration procedure should update state when SapSystemRolledUp event received" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.HealthOverviewControllerTest" tests="1" time="2.2295"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/health_overview_controller_test.exs" classname="Elixir.TrentoWeb.V1.HealthOverviewControllerTest" name="test should return the expected overview" time="2.2295"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Clusters.PolicyTest" tests="5" time="0.0009"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/clusters/policy_test.exs" classname="Elixir.Trento.Clusters.PolicyTest" name="test should allow select_checks operations if the user has all:cluster_checks_selection ability" time="0.0002"/><testcase file="test/trento/clusters/policy_test.exs" classname="Elixir.Trento.Clusters.PolicyTest" name="test should allow unguarded actions" time="0.0002"/><testcase file="test/trento/clusters/policy_test.exs" classname="Elixir.Trento.Clusters.PolicyTest" name="test should disallow select_checks operations if the user does not have all:cluster_checks_selection ability" time="0.0002"/><testcase file="test/trento/clusters/policy_test.exs" classname="Elixir.Trento.Clusters.PolicyTest" name="test should disallow request_check_execution operations if the user does not have all:cluster_checks_execution ability" time="0.0002"/><testcase file="test/trento/clusters/policy_test.exs" classname="Elixir.Trento.Clusters.PolicyTest" name="test should allow request_check_execution operations if the user has all:cluster_checks_execution ability" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Clusters.ValueObjects.SapInstanceTest" tests="3" time="0.0006"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/clusters/value_objects/sap_instance_test.exs" classname="Elixir.Trento.Clusters.ValueObjects.SapInstanceTest" name="test get_hana_instance_sid/1 should return the HANA instance sid" time="0.0001"/><testcase file="test/trento/clusters/value_objects/sap_instance_test.exs" classname="Elixir.Trento.Clusters.ValueObjects.SapInstanceTest" name="test get_hana_instance_sid/1 should return empty string if HANA instance is not found" time="0.0002"/><testcase file="test/trento/clusters/value_objects/sap_instance_test.exs" classname="Elixir.Trento.Clusters.ValueObjects.SapInstanceTest" name="test get_sap_instance_sids/1 should return SAP instance sids" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.TagsTest" tests="5" time="3.6948"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/tags_test.exs" classname="Elixir.Trento.TagsTest" name="test tags add_tag/3 adds a tag to the desired resource" time="0.2943"/><testcase file="test/trento/tags_test.exs" classname="Elixir.Trento.TagsTest" name="test tags delete_tag/2 returns a not found error if the resource does not exist" time="0.3841"/><testcase file="test/trento/tags_test.exs" classname="Elixir.Trento.TagsTest" name="test tags add_tag/3 returns an error if the type is unknown" time="0.1825"/><testcase file="test/trento/tags_test.exs" classname="Elixir.Trento.TagsTest" name="test tags delete_tag/2 deletes a tag from a given resource" time="0.6264"/><testcase file="test/trento/tags_test.exs" classname="Elixir.Trento.TagsTest" name="test tags add_tag/3 does nothing on conflict with resource_id and value" time="2.2075"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SapSystemDatabaseHealthEventHandlerTest" tests="1" time="0.0044"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/sap_system_database_health_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SapSystemDatabaseHealthEventHandlerTest" name="test should dispatch UpdateDatabaseHealth commands when a database health is changed" time="0.0044"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ProfileControllerTest" tests="12" time="7.0597"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should confirm a totp enrollment if totp is valid for the enrollment" time="0.4342"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should not confirm a totp enrollment for the default admin" time="0.9616"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should disable write profile action when external IDP integration is enabled" time="0.2713"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should return forbidden if the totp enrollment is requested for default admin" time="0.9036"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should get an error when requesting totp enrollment data for an already totp enrolled user" time="0.4505"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should not confirm a totp enrollment if totp is already enabled for the user" time="0.6059"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should show the current user profile" time="0.3901"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should get totp enrollment data when totp is not configured for the user" time="0.5513"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should not confirm a totp enrollment if totp is not valid" time="0.7977"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should reset totp enrollment for a user" time="0.3624"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should update the profile with allowed fields" time="0.7545"/><testcase file="test/trento_web/controllers/v1/profile_controller_test.exs" classname="Elixir.TrentoWeb.V1.ProfileControllerTest" name="test should not reset totp when a reset is requested for the default admin" time="0.5766"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Operations.AMQP.ProcessorTest" tests="4" time="4.2610"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/operations/processor_test.exs" classname="Elixir.Trento.Infrastructure.Operations.AMQP.ProcessorTest" name="test process should process OperationStarted and broadcast to the socket" time="0.1838"/><testcase file="test/trento/infrastructure/operations/processor_test.exs" classname="Elixir.Trento.Infrastructure.Operations.AMQP.ProcessorTest" name="test process should process OperationCompleted and broadcast to the socket" time="0.6866"/><testcase file="test/trento/infrastructure/operations/processor_test.exs" classname="Elixir.Trento.Infrastructure.Operations.AMQP.ProcessorTest" name="test process should request saptune discovery request when saptune_solution_apply operation is completed" time="2.6308"/><testcase file="test/trento/infrastructure/operations/processor_test.exs" classname="Elixir.Trento.Infrastructure.Operations.AMQP.ProcessorTest" name="test process should return error if the event cannot be decoded" time="0.7598"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Operations.HostPolicyTest" tests="8" time="0.1012"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test should forbid unknown operation" time="0.0002"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should authorize operation if all instances are stopped and the host is not clustered" time="0.0002"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should authorize operation if there is not any SAP instance running" time="0.0001"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should forbid operation if an application instance is not stopped" time="0.0004"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should forbid operation if an application and database instances are not stopped" time="0.0004"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should authorize operation if all instances are stopped and HANA resources are not managed" time="0.0008"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should forbid operation if an database instance is not stopped" time="0.0006"/><testcase file="test/trento/operations/host_policy_test.exs" classname="Elixir.Trento.Operations.HostPolicyTest" name="test saptune_solution_apply should authorize operation if all instances are stopped and cluster is in maintenance" time="0.0985"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Checks.ChecksTest" tests="6" time="0.0036"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Cluster Checks Execution should publish an ExecutionRequested event for a cluster" time="0.0015"/><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Unsupported targets should return an error when trying to complete execution for an unsupported target type" time="0.0003"/><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Unsupported targets should return an error when trying to start execution for an unsupported target type" time="0.0004"/><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Cluster Checks Execution should complete a cluster checks execution" time="0.0004"/><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Host Checks Execution should complete a host checks execution" time="0.0004"/><testcase file="test/trento/infrastructure/checks/checks_test.exs" classname="Elixir.Trento.Infrastructure.Checks.ChecksTest" name="test Host Checks Execution should publish an ExecutionRequested event for a host" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.SUSEManagerJSONTest" tests="2" time="0.6349"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/suse_manager_view_json_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerJSONTest" name="test renders software_updates.json should render relevant fields" time="0.3983"/><testcase file="test/trento_web/views/v1/suse_manager_view_json_test.exs" classname="Elixir.TrentoWeb.V1.SUSEManagerJSONTest" name="test renders errata_details.json should render relevant fields" time="0.2367"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLogTest" tests="15" time="0.2819"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Search by metadata tests Three keywords default connector (OR)" time="0.0219"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Filtering by severity levels should return all entries severity level entries when no param provided" time="0.0125"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return an emtpty list" time="0.0014"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return latest paginated activity log entries number 26 to 50 (desc)" time="0.0192"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return most recent 5 paginated activity log entries" time="0.0180"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Filtering by severity levels should return warning and above severity level entries when queried with appropriate param" time="0.0072"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return entries ordered by occurrence date" time="0.0024"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return earliest 5 paginated activity log entries" time="0.0341"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Search by metadata tests Three keywords connected by AND" time="0.0241"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Search by metadata tests Single keyword" time="0.0207"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Search by metadata tests Should return results in appropriate numeric range" time="0.0122"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should expose information about the existence of previous or next page to navigate to" time="0.0211"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test Search by metadata tests malformed query yields empty result" time="0.0146"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return paginated and default ordered by occurrence date activity log when no params provided" time="0.0375"/><testcase file="test/trento/activity_log_test.exs" classname="Elixir.Trento.ActivityLogTest" name="test retrieving logged activity should return latest paginated activity log entries number 21 to 25 (desc)" time="0.0352"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Databases.DatabaseTest" tests="37" time="0.3985"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test multi tenant support should emit the DatabaseTenantsUpdated event and update tenants, when the database is already registered but the new registered instance has different tenants" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should reject all the commands except for the registration/instance deregistration ones, when the Database is deregistered" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test rollup should not accept commands if a database is in rolling up state" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should restore a deregistered database when the registering database instance is a primary, without database instance leftovers" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister the primary instance of database" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database health should not change the health of a Database if no instance has changed the health status" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test instance marked absent/present should mark as present an already registered, absent database instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should not deregister a not registered database instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should fail when a database does not exists and the database instance has Secondary role" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister the primary instance, the entire database and then the secondary instance" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should restore a deregistered database when the registering database instance is a primary, with database instance leftovers" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should change the system replication of a database instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should not add a database instance if the database instance was already registered" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister a single DB instance of two if no SR enabled" time="0.0005"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister a secondary DB instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should correctly deregister the database in a scale out scenario, with two primary and two secondary" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test rollup should not accept a rollup command if a database was not registered yet" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should restore a deregistered database when the registering database instance has system replication disabled, without database instance leftovers" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should not deregister an already deregistered database instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should register a database when the system replication is disabled" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister the only database instance and deregister the entire database, system replication disabled" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should restore a deregistered database when the registering database instance has system replication disabled, with database instance leftovers" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should add a database instance to an existing Database" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should not restore a deregistered database when the registering database instance has Secondary role" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test rollup should apply the rollup event and rehydrate the aggregate" time="0.0001"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test multi tenant support should emit a DatabaseTenantsUpdated event when the database is restored and the tenants are different" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test deregistration should deregister a Database when the Primary database instance is removed" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test multi tenant support should not emit the DatabaseTenantsUpdated event and not update tenants, when the database is already registered and new registered instance has same tenants as the database" time="0.0005"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test rollup should change the database state to rolling up" time="0.0864"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test instance marked absent/present should mark as absent a previously registered database instance" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test tombstoning should tombstone a deregistered database when no database instances are left" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database health should change the health of a Database when a Database instance has changed the health status" time="0.0003"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test multi tenant support should emit a DatabaseTenantsUpdated event when the database is registered" time="0.0002"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database registration should register a database when the system replication is enabled and the database role is primary" time="0.1127"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test Database health should change the health of a Database when a new Database instance is registered" time="0.1121"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test multi tenant support should not emit a DatabaseTenantsUpdated event when the database is restored and the tenants are the same as restored database" time="0.0799"/><testcase file="test/trento/databases/database_test.exs" classname="Elixir.Trento.Databases.DatabaseTest" name="test legacy events should ignore SAP system legacy events and not update the aggregate" time="0.0002"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.Plugs.ExternalIdpGuardPlugTest" tests="2" time="2.0267"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/external_idp_guard_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ExternalIdpGuardPlugTest" name="test call/2 should return 501 when external idp integration is enabled" time="0.3038"/><testcase file="test/trento_web/plugs/external_idp_guard_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ExternalIdpGuardPlugTest" name="test call/2 should not halt connection when external idp integration is disabled" time="1.7229"><failure message="Expected false or nil, got true">  2) test call/2 should not halt connection when external idp integration is disabled (TrentoWeb.Plugs.ExternalIdpGuardPlugTest)
     test/trento_web/plugs/external_idp_guard_plug_test.exs:27
     Expected false or nil, got true
     code: refute res.halted
     stacktrace:
       test/trento_web/plugs/external_idp_guard_plug_test.exs:31: (test)
</failure></testcase></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" tests="8" time="1.3944"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the host roll-up command" time="0.1649"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the cluster roll-up command when ClusterTombstoned is received" time="0.1492"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the host roll-up command when HostTombstoned is received" time="0.1537"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the cluster roll-up command" time="0.1778"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the database roll-up command" time="0.1537"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the database roll-up command when DatabaseTombstoned is received" time="0.1671"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the sap system roll-up command" time="0.2147"/><testcase file="test/trento/infrastructure/commanded/event_handlers/stream_roll_up_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.StreamRollUpEventHandlerTest" name="test should dispatch the SAP system roll-up command when SapSystemTombstoned is received" time="0.2133"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystems.Services.HealthSummaryServiceTest" tests="4" time="0.0369"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems/services/health_summary_service_test.exs" classname="Elixir.Trento.SapSystems.Services.HealthSummaryServiceTest" name="test SAP Systems Health Summary should return an empty summary" time="0.0019"/><testcase file="test/trento/sap_systems/services/health_summary_service_test.exs" classname="Elixir.Trento.SapSystems.Services.HealthSummaryServiceTest" name="test SAP Systems Health Summary should raise an exception when a cluster couldn't be loaded" time="0.0085"/><testcase file="test/trento/sap_systems/services/health_summary_service_test.exs" classname="Elixir.Trento.SapSystems.Services.HealthSummaryServiceTest" name="test SAP Systems Health Summary should set as unknown the clusters health when they are not available" time="0.0101"/><testcase file="test/trento/sap_systems/services/health_summary_service_test.exs" classname="Elixir.Trento.SapSystems.Services.HealthSummaryServiceTest" name="test SAP Systems Health Summary should determine health summary for a SAP System" time="0.0163"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ClusterJSONTest" tests="2" time="0.6217"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ClusterJSONTest" name="test adapt to V1 version should remove the ascs/ers cluster type" time="0.3839"/><testcase file="test/trento_web/views/v1/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ClusterJSONTest" name="test adapt to V1 version should remove HANA cluster V2 fields" time="0.2378"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.EventTest" tests="9" time="0.0019"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test supersede an event a non-superseded event is not marked as legacy" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test upcast an event from v1 to v3" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test supersede an event event is not superseded multiple times" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test supersede an event event is superseded" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test upcast an event from v2 to v3" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test upcast an event new!/1 returns the latest version of the event" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test supersede an event a superseded event is marked as legacy" time="0.0002"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test upcast an event from v3 to v3" time="0.0003"/><testcase file="test/trento/support/event_test.exs" classname="Elixir.Trento.Support.EventTest" name="test supersede an event event is not superseded" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SettingsTest" tests="38" time="3.1699"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should not save suse manager settings if already saved" time="0.0024"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should reject a 'foobar' SSL certificate" time="0.1940"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should not save invalid suse manager settings" time="0.0089"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should properly remove ca_cert and its upload date" time="0.1305"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should not accept unsupported retention period units" time="0.0022"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should return an error when settings are not available" time="0.0011"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should successfully change retention periods years" time="0.0027"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should successfully change retention periods days" time="0.0024"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test installation_settings should not create a new InstallationSettings if is already present" time="0.0017"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should not be able to change retention time if no activity log settings were previously saved" time="0.0030"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should reject an invalid SSL certificate" time="0.1580"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should not return ApiKeySettings when not present" time="0.0015"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should return ApiKeySettings when present" time="0.0029"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should return activity log settings" time="0.0021"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should support idempotent sequential clear settings" time="0.1422"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should not accept invalid retention periods" time="0.0042"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should return settings without ca certificate" time="0.0861"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should support idempotent sequential settings updates" time="0.4447"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should successfully change retention periods weeks" time="0.0022"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should create api key settings with the correct fields" time="0.0013"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should return an error when settings are not available" time="0.0024"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should properly update ca_cert and its upload date when a new cert is provided" time="0.2899"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should not create ApiKeySettings if jti and created_at fields are missing" time="0.0069"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should support partial change of suse manager settings" time="0.1416"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should save suse manager settings without ca cert" time="0.0016"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should not be able to change suse manager settings if none previously saved" time="0.0010"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test sso_certificates_settings should return SSO certificates" time="0.0026"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should reject an expired SSL certificate" time="0.4370"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should issue software updates discovery process when saving or updating settings" time="0.3215"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should return settings with ca certificate" time="0.1978"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should successfully change retention periods months" time="0.0058"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should save suse manager settings with a nil ca cert" time="0.0016"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should update ApiKeySettings when some fields are present, with a new expiration and generated creation and jti" time="0.0020"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should save suse manager settings with ca cert" time="0.2437"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should not create another ApiKeySettings if one is already present" time="0.0022"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test api_key_settings should not update ApiKeySettings when some fields are not present" time="0.0023"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test suse_manager_settings should validate partial changes to suse manager settings" time="0.3130"/><testcase file="test/trento/settings_test.exs" classname="Elixir.Trento.SettingsTest" name="test activity log settings should successfully handle unchanging retention periods" time="0.0030"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.OperationsHelperTest" tests="3" time="0.0009"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/operations_helper_test.exs" classname="Elixir.Trento.Support.OperationsHelperTest" name="test reduce_operation_authorizations should reduce authorizations results" time="0.0003"/><testcase file="test/trento/support/operations_helper_test.exs" classname="Elixir.Trento.Support.OperationsHelperTest" name="test reduce_operation_authorizations should reduce authorizations results with default acc" time="0.0003"/><testcase file="test/trento/support/operations_helper_test.exs" classname="Elixir.Trento.Support.OperationsHelperTest" name="test reduce_operation_authorizations should reduce authorizations results with functions" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.Projections.SlesSubscriptionsProjectorTest" tests="1" time="0.0078"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/projections/sles_subscriptions_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.SlesSubscriptionsProjectorTest" name="test should project a new subscription when SubscriptionsUpdated event is received" time="0.0078"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.ActivityLoggerTest" tests="22" time="19.4658"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks selection request activity detection should log a successful checks selection for hosts" time="0.1772"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test changing activity log retention time detection should not log a failing update of the activity log settings" time="0.4666"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource untagging activity: clusters" time="0.3949"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test login activity detection should get the metadata for a login attempt: with invalid credentials" time="0.7304"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource tagging activity: databases" time="0.4225"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource tagging activity: clusters" time="0.8211"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource untagging activity: databases" time="0.5037"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test queue event activity logging" time="0.5092"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test login activity detection should get the metadata for a login attempt: with valid credentials" time="0.5747"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test domain event activity logging" time="0.7217"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource tagging activity: hosts" time="0.4914"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks execution request activity detection should log a successful checks execution request for hosts" time="0.6467"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test changing activity log retention time detection should log a successful update of the activity log settings" time="0.5231"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks execution request activity detection should not log a checks execution request failing because of empty checks selection" time="0.5606"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks execution request activity detection should not log a checks execution request failing because of a non existent resource" time="0.9738"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource untagging activity: sap_systems" time="1.4489"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks selection request activity detection should not log a checks selection because of a non existent resource" time="1.2025"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource untagging activity: hosts" time="1.2391"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks selection request activity detection should log a successful checks selection for clusters" time="1.4245"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test user management activity detection should trace user deletion" time="1.7226"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test tagging/untagging activity detection should get the metadata for resource tagging activity: sap_systems" time="1.8841"/><testcase file="test/trento/activity_logging/activity_logger_test.exs" classname="Elixir.Trento.ActivityLog.ActivityLoggerTest" name="test checks execution request activity detection should log a successful checks execution request for clusters" time="2.0267"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.DatabaseControllerTest" tests="6" time="9.1679"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test list should list all databases" time="1.1836"/><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test forbidden response should return forbidden on any controller action if the user does not have the right permission" time="1.3167"/><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test delete should allow the request when the user has cleanup:database_instance ability" time="1.4766"/><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test delete should send 204 response on successful database instance deletion" time="1.6986"/><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test delete should send 404 response if the database instance is not found" time="1.4145"/><testcase file="test/trento_web/controllers/v1/database_controller_test.exs" classname="Elixir.TrentoWeb.V1.DatabaseControllerTest" name="test delete should send 422 response if the database instance is still present" time="2.0779"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichDeregisterApplicationInstanceTest" tests="2" time="0.0136"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/middleware/enrich_deregister_application_instance_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichDeregisterApplicationInstanceTest" name="test should return sap_system_not_registered if the system ID belongs to a database" time="0.0027"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_deregister_application_instance_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichDeregisterApplicationInstanceTest" name="test should return the deregistration command" time="0.0109"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SoftwareUpdates.DiscoveryTest" tests="20" time="0.1074"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Clearing up software updates discoveries should ignore not tracked software updates discovery results" time="0.0046"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should complete discovery" time="0.0088"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle errors when getting relevant patches" time="0.0069"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a specific host should handle failures and track causing reasons" time="0.0059"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle SUMA settings not configured error" time="0.0030"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle authentication error" time="0.0048"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle errors when getting upgradable packages" time="0.0056"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a specific host should handle failure when SUMA settings are not configured" time="0.0007"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle empty hosts list" time="0.0018"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test retrieving software updates discovery result returns error on failed discovery result" time="0.0047"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Clearing up software updates discoveries should pass through an empty hosts list and clear settings" time="0.0038"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test retrieving software updates discovery result successfully returns empty discoveries" time="0.0025"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test retrieving software updates discovery result handles non existing discovery result" time="0.0018"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle errors when dispatching discovery completion command" time="0.0092"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Clearing up software updates discoveries should clear software updates for all registered hosts in a best effort fashion" time="0.0055"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle errors when getting a system id" time="0.0082"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Clearing up software updates discoveries should clear a previously tracked software updates discovery result" time="0.0068"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a specific host should complete discovery" time="0.0154"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test Discovering software updates for a collection of hosts should handle hosts without fqdn" time="0.0053"/><testcase file="test/trento/software_updates/discovery_test.exs" classname="Elixir.Trento.SoftwareUpdates.DiscoveryTest" name="test retrieving software updates discovery result successfully returns non-empty discoveries" time="0.0021"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.Auth.AssentSamlStrategyTest" tests="4" time="0.0088"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/auth/assent_saml_strategy_test.exs" classname="Elixir.TrentoWeb.Auth.AssentSamlStrategyTest" name="test authorize_url/1 should return valid authorization url" time="0.0047"/><testcase file="test/trento_web/auth/assent_saml_strategy_test.exs" classname="Elixir.TrentoWeb.Auth.AssentSamlStrategyTest" name="test callback/2 should return a normalized user" time="0.0003"/><testcase file="test/trento_web/auth/assent_saml_strategy_test.exs" classname="Elixir.TrentoWeb.Auth.AssentSamlStrategyTest" name="test callback/2 should raise an error if mandatory attributes are missing" time="0.0004"/><testcase file="test/trento_web/auth/assent_saml_strategy_test.exs" classname="Elixir.TrentoWeb.Auth.AssentSamlStrategyTest" name="test callback/2 should raise an error when the user is not authenticated" time="0.0034"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V2.ClusterJSONTest" tests="5" time="1.5015"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v2/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V2.ClusterJSONTest" name="test should render health changed relevant information" time="0.3194"/><testcase file="test/trento_web/views/v2/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V2.ClusterJSONTest" name="test should render sap instances and deprecated sids properly" time="0.3203"/><testcase file="test/trento_web/views/v2/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V2.ClusterJSONTest" name="test should render maintenance_mode field" time="0.2947"/><testcase file="test/trento_web/views/v2/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V2.ClusterJSONTest" name="test should remove parent field from ASCS/ERS clusters" time="0.3831"/><testcase file="test/trento_web/views/v2/cluster_view_json_test.exs" classname="Elixir.TrentoWeb.V2.ClusterJSONTest" name="test should remove parent field from HANA clusters" time="0.1840"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseDeregistrationEventHandlerTest" tests="3" time="0.0057"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/database_deregistration_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseDeregistrationEventHandlerTest" name="test should dispatch DeregisterSapSystem commands when a database is deregistered" time="0.0019"/><testcase file="test/trento/infrastructure/commanded/event_handlers/database_deregistration_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseDeregistrationEventHandlerTest" name="test should dispatch DeregisterSapSystem commands when a tenant is removed" time="0.0022"/><testcase file="test/trento/infrastructure/commanded/event_handlers/database_deregistration_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseDeregistrationEventHandlerTest" name="test should not dispatch DeregisterSapSystem commands if tenants are added" time="0.0016"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SoftwareUpdates.SettingsTest" tests="10" time="1.2499"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test testing connection settings should return an error when connection test fails" time="0.0006"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test discovery should not start discovery if settings are not configured" time="0.0012"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test getting software updates successfully returns software updates" time="0.1924"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test getting software updates handles non existing discovery result" time="0.1892"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test testing connection settings should return ok when connection test succeeds" time="0.0007"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test discovery should start discovery if settings are configured" time="0.1889"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test getting software updates should fail when settings are not configured" time="0.0024"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test getting related patches for some packages should return an aggregated list of packages and related patches" time="0.1633"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test discovery should trigger clearing of software updates discoveries when clearing settings" time="0.2683"/><testcase file="test/trento/software_updates_test.exs" classname="Elixir.Trento.SoftwareUpdates.SettingsTest" name="test getting software updates returns errors on failed discoveries" time="0.2428"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.SessionControllerTest" tests="23" time="2.6979"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return the credentials when the sso callback flow is completed without errors and the user exists on trento but without an associated user identity" time="0.1559"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return totp code missing if the code is not provided" time="0.1653"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test saml_callback endpoint should return unauthorized in saml callback flow when user attributes are missing" time="0.0915"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return unauthorized response when the credentials are of a deleted user" time="0.1529"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return unauthorized when the refresh token is valid but the user has been deleted" time="0.0974"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return unauthorized if the refresh token is valid but expired" time="0.0517"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return unauthorized if the refresh token signature is malformed" time="0.0867"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return unauthorized response when the credentials are of a locked user" time="0.1393"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test saml_callback endpoint should return unauthorized in saml callback flow when assertion is missing" time="0.0613"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return unauthorized when the refresh token is valid but the user has been locked" time="0.0827"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test saml_callback endpoint should return the credentials when the saml callback flow is completed without errors and the user does not exist on trento" time="0.0849"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return unauthorized if the refresh token signature is invalid" time="0.0697"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return unauthorized when the sso callback flow is completed without errors and the user is locked on trento" time="0.1374"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should validate totp correctly" time="0.1349"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return the credentials when the sso callback flow is completed without errors and assign the global abilities when the oidc user is the default admin and does not exists on trento" time="0.1450"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return the credentials when the sso callback flow is completed without errors and the user does exist on trento" time="0.1398"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return unauthorized response when the credentials are invalid" time="0.1484"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return 501 if external IDP integration is enabled" time="0.0922"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test login endpoint should return the user tokens when the credentials are valid" time="0.1441"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return the credentials when the sso callback flow is completed without errors and the user does not exist on trento" time="0.1430"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test refresh endpoint should return refreshed credentials for the user when the refresh token is valid" time="0.0860"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test me endpoint should return the logged user based on the token" time="0.0616"/><testcase file="test/trento_web/controllers/session_controller_test.exs" classname="Elixir.TrentoWeb.SessionControllerTest" name="test callback endpoint should return the credentials when the sso callback flow is completed without errors and assign the global abilities when the oidc user is the default admin and already exists on trento" time="0.2262"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.Projections.HostProjectorTest" tests="18" time="1.2063"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the deregistered_at field when HostDeregistered is received" time="0.0064"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the provider field when ProviderUpdated is received with Azure provider type" time="0.0047"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the selected_checks field when event is received" time="0.0168"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should project a new host when HostRegistered event is received" time="0.0045"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should set the cluster_id to nil if a HostRemovedFromCluster event is received and the host is still part of the cluster" time="0.0074"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should project a new host with no additional properties when HostAddedToCluster event is received" time="1.0058"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the heartbeat field to passing status when HeartbeatSucceeded is received" time="0.0027"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should project an already existing host cluster_id when HostRegistered event is received" time="0.0033"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the cluster_id field when HostAddedToCluster event is received and the host was already registered" time="0.0056"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the provider field when ProviderUpdated is received with AWS provider type" time="0.0038"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should project a host's health when HostHealthChanged is emitted" time="0.0058"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the saptune_status field when SaptuneStatusUpdated is received" time="0.0033"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the heartbeat field to critical status when HeartbeatFailed is received" time="0.0036"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update the provider field when ProviderUpdated is received with GCP provider type" time="0.0032"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should update an existing host when HostDetailsUpdated event is received" time="0.0037"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should set deregistered_at to nil when HostRestored is received" time="0.0114"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should project nil netmasks when HostRegistered event without netmasks is received" time="0.0049"/><testcase file="test/trento/hosts/projections/host_projector_test.exs" classname="Elixir.Trento.Hosts.Projections.HostProjectorTest" name="test should not set the cluster_id to nil if a HostRemovedFromCluster event is received and the host is not part of the cluster anymore" time="0.1095"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ReleaseTest" tests="7" time="0.5852"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test Activity Log settings initiation should init default activity log retention time" time="0.0030"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test SAML initialization should reuse existing SSO certificates if they are present" time="0.0035"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test SAML initialization should create and store SSO certificates if they are not present" time="0.1165"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test Activity Log settings initiation should not change previously saved retention time" time="0.0016"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test SAML initialization should fail if TRENTO_WEB_ORIGIN variable is not set" time="0.0008"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test SAML initialization should not initialize SAML if it is not enabled" time="0.0009"/><testcase file="test/trento/release_test.exs" classname="Elixir.Trento.ReleaseTest" name="test SAML initialization should fail if none of metadata obtaining options are used" time="0.4587"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.Trento.ActivityLog.QueueEventParserTest" tests="7" time="4.5939"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test operation completed should get actor if operation requested is logged" time="0.2331"/><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test should return 'system' by default" time="0.4254"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 425ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  2) test should return 'system' by default (Trento.ActivityLog.QueueEventParserTest)
     test/trento/activity_logging/queue_event_parser_test.exs:157
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 425ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/data_case.ex:33: Trento.DataCase.__ex_unit_setup_0/1
       (trento 2.4.0) test/support/data_case.ex:1: Trento.DataCase.__ex_unit__/2
       test/trento/activity_logging/queue_event_parser_test.exs:1: Trento.ActivityLog.QueueEventParserTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test checks customization should get correct metadata" time="0.1499"/><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test operation completed should get default system actor if operation requested is not logged" time="0.7320"/><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test checks customization should get correct actor" time="2.4715"/><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test operation completed should get operation completed metadata" time="0.5303"/><testcase file="test/trento/activity_logging/queue_event_parser_test.exs" classname="Elixir.Trento.ActivityLog.QueueEventParserTest" name="test should return empty metadata in unknown event" time="0.0516"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" tests="30" time="0.1943"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload with aws provider" time="0.0055"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test Angi architecture should return the expected commands when a ha_cluster_discovery payload with Angi scale up is received" time="0.0039"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test ascs/ers clusters health should set the health to critical when one of the nodes is unclean" time="0.0044"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test HANA scale out should return the expected commands when a ha_cluster_discovery payload with hana scale out with maintenance mode enabled is handled" time="0.0033"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should set the filesystem_resource_based to false if no Filesystem resources are found" time="0.0022"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type hana_scale_up is handled" time="0.0027"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test delta deregistration should not deregister the host if the cluster does not change" time="0.0033"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test HANA scale out should return the expected commands when a ha_cluster_discovery payload without srHooks is received" time="0.0037"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type ascs_ers with resources running in the same node is handled" time="0.0025"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type ascs_ers with maintenance enabled is handled" time="0.0030"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test delta deregistration should deregister the host from the current cluster" time="0.0009"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test HANA and ASCS/ERS cluster should discover a cluster with HANA and ASCS/ERS types" time="0.0043"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when simple mount configured cluster payload is received" time="0.0026"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test HANA scale out should return the expected commands when a ha_cluster_discovery payload with hana scale out with multi target hook is handled" time="0.0022"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type hana_scale_up with maintenance mode is handled" time="0.0038"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test delta deregistration should deregister the host from the current cluster and register to the new one" time="0.0048"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test HANA scale out should return the expected commands when a ha_cluster_discovery payload with hana scale out is handled" time="0.0052"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type ascs_ers is handled" time="0.0022"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery with different node statuses is received" time="0.0020"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test ascs/ers clusters health should set the health to critical when the SAPInstance resource is Stopped" time="0.0014"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload does not have a Name field" time="0.0020"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test Angi architecture should return the expected commands when a ha_cluster_discovery payload with Angi scale up with failover is received" time="0.0018"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload with gcp provider" time="0.0017"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when ERS is not mounted in a filesystem" time="0.0016"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test ascs/ers clusters health should set the health to critical when the SAPInstance resource is running the same node" time="0.0015"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type ascs_ers with multi sid setup is handled" time="0.0020"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test ascs/ers clusters health should set the health to critical when the SAPInstance is on failed state" time="0.0013"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type hana_scale_up with cost optimized scenario is handled" time="0.0016"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery payload of type ascs_ers with invalid data is handled" time="0.0014"/><testcase file="test/trento/discovery/policies/cluster_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.ClusterPolicyTest" name="test should return the expected commands when a ha_cluster_discovery with diskless SBD is received" time="0.1154"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.InstallationControllerTest" tests="1" time="3.8364"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/installation_controller_test.exs" classname="Elixir.TrentoWeb.V1.InstallationControllerTest" name="test should return the api key" time="3.8364"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Tags.PolicyTest" tests="5" time="0.0015"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/tags/policy_test.exs" classname="Elixir.Trento.Tags.PolicyTest" name="test should allow any action when the user has global ability" time="0.0003"/><testcase file="test/trento/tags/policy_test.exs" classname="Elixir.Trento.Tags.PolicyTest" name="test should allow remove_tag action on the resource when the user have the right ability" time="0.0003"/><testcase file="test/trento/tags/policy_test.exs" classname="Elixir.Trento.Tags.PolicyTest" name="test should not allow add_tag action on the resource when the user does not have the right ability" time="0.0003"/><testcase file="test/trento/tags/policy_test.exs" classname="Elixir.Trento.Tags.PolicyTest" name="test should allow add_tag action on the resource when the user have the right ability" time="0.0003"/><testcase file="test/trento/tags/policy_test.exs" classname="Elixir.Trento.Tags.PolicyTest" name="test should not allow remove_tag action on the resource when the user does not have the right ability" time="0.0003"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.PolicyTest" tests="2" time="0.4475"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/policy_test.exs" classname="Elixir.Trento.ActivityLog.PolicyTest" name="test Activity Log Policy users with relevant permissions should be allowed to access all logs" time="0.1868"/><testcase file="test/trento/activity_logging/policy_test.exs" classname="Elixir.Trento.ActivityLog.PolicyTest" name="test Activity Log Policy users with relevant permissions should be allowed to access actor names in logs" time="0.2607"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.HealthControllerTest" tests="2" time="4.1750"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/health_controller_test.exs" classname="Elixir.Trento.HealthControllerTest" name="test Health report healthy state when database is up for /healthz endpoint" time="0.3447"/><testcase file="test/trento_web/controllers/health_controller_test.exs" classname="Elixir.Trento.HealthControllerTest" name="test Health report healthy state for /readyz endpoint" time="3.8304"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.EventHandlerFailureContextTest" tests="1" time="0.0685"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/event_handler_failure_context_test.exs" classname="Elixir.Trento.Support.EventHandlerFailureContextTest" name="test should retry 3 times before shutting down and call the callback functions" time="0.0685"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ClustersTest" tests="30" time="9.7215"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with a resource managed filesystem type" time="0.0599"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test resource_managed?/2 should return the managed state of a resource in ASCS/ERS cluster" time="0.1693"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get_cluster_id_by_host_id/1 should return nil if the host is not part of any cluster" time="0.2719"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test maintenance?/1 should return cluster maintenance mode" time="0.0078"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test retrieving a cluster by identifier should return an existent cluster, whether it is registered or not" time="0.3882"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should start a checks execution on demand in a ascs_ers cluster if checks are selected" time="0.2409"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get_sap_instances_by_host_id/1 should return an empty list if host or cluster are not found" time="0.2073"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test resource_managed?/2 should return the managed state of a resource in HANA cluster" time="0.1592"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should return an error if the checks execution start fails" time="0.2289"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should not start checks execution if no checks are selected" time="0.0680"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get_sap_instances_by_host_id/1 should return cluster SAP instances when the cluster is registered" time="0.1101"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test resource_managed?/2 should return false if the resource if not found" time="0.5421"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get clusters should not return soft deleted clusters" time="0.1802"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should publish proper targets for an ascs_ers cluster when additional non clustered application instances are found on the same hosts" time="0.2571"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should start a checks execution on demand in a hana cluster performance opt scenario if checks are selected" time="0.2744"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test resource_managed?/2 should return false in a unhandled cluster type" time="0.3010"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with mixed ENSA versions" time="0.2799"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should not start checks execution if the cluster is not registered" time="0.1540"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with ENSA 2 version" time="0.2350"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get_cluster_id_by_host_id/1 should return the cluster_id" time="0.4664"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with a mixed filesystem type" time="0.2518"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test resource_managed?/2 should return the managed state of a grouped resource" time="0.4383"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with a simple mount filesystem type" time="0.2659"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test get clusters should return enriched clusters" time="0.2430"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test update cib_last_written should create a new enriched cluster entry" time="0.4021"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test retrieving a cluster by identifier should not return a non existent cluster" time="0.3540"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test update cib_last_written should update cib_last_written field properly" time="0.3992"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should start a checks execution on demand in a hana cluster cost opt scenario if checks are selected" time="0.1967"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test checks execution with wanda adapter should request checks execution for all relevant registered clusters" time="0.5473"/><testcase file="test/trento/clusters_test.exs" classname="Elixir.Trento.ClustersTest" name="test ASCS/ERS cluster checks execution should start a checks execution on demand for ascs_ers clusters with ENSA 1 version" time="2.0218"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.AbilitiesHelperTest" tests="6" time="0.4243"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test user_has_ability/2 returns true if user has the ability on the resource" time="0.0667"/><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test user_has_any_ability/2 returns false if user does not have any of the required abilities" time="0.0758"/><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test user_has_any_ability/2 returns true if user does have any of the required abilities" time="0.0637"/><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test user_has_ability/2 returns false if user does not have the ability on the resource" time="0.0808"/><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test has_global_ability/2 returns false if user does not have the global ability" time="0.0605"/><testcase file="test/trento/support/abilities_helper_test.exs" classname="Elixir.Trento.Support.AbilitiesHelperTest" name="test has_global_ability/2 returns true if user does have the global ability" time="0.0768"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.AbilitiesTest" tests="8" time="0.0459"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities list_abilities/0 returns all abilities" time="0.0037"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities update_ability/2 with invalid data returns error changeset" time="0.0040"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities update_ability/2 with valid data updates the ability" time="0.0036"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities get_ability!/1 returns the ability with given id" time="0.0038"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities create_ability/1 with invalid data returns error changeset" time="0.0024"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities change_ability/1 returns a ability changeset" time="0.0037"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities create_ability/1 with valid data creates a ability" time="0.0044"/><testcase file="test/trento/abilities_test.exs" classname="Elixir.Trento.AbilitiesTest" name="test abilities delete_ability/1 deletes the ability" time="0.0203"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ChartControllerTest" tests="6" time="4.2867"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test host memory chart should return 422 when the input request timestamps are not valid" time="0.3067"/><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test cpu host chart should return 404 if a cpu chart is requested for a non existing host" time="0.3217"/><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test cpu host chart should return 200 with host cpu chart data when host exists" time="0.4004"/><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test host memory chart should return 200 with host memory chart data when host exists" time="0.6767"/><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test cpu host chart should return 422 when the input request timestamps are not valid" time="0.3185"/><testcase file="test/trento_web/controllers/v1/chart_controller_test.exs" classname="Elixir.TrentoWeb.V1.ChartControllerTest" name="test host memory chart should return 404 if a cpu chart is requested for a non existing host" time="2.2626"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.AbilityControllerTest" tests="1" time="2.0044"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/ability_controller_test.exs" classname="Elixir.TrentoWeb.V1.AbilityControllerTest" name="test index lists all abilities" time="2.0044"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Users.PolicyTest" tests="5" time="0.0023"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/users/policy_test.exs" classname="Elixir.Trento.Users.PolicyTest" name="test should allow read operations if the user has all:all ability" time="0.0004"/><testcase file="test/trento/users/policy_test.exs" classname="Elixir.Trento.Users.PolicyTest" name="test should disallow other abilities" time="0.0004"/><testcase file="test/trento/users/policy_test.exs" classname="Elixir.Trento.Users.PolicyTest" name="test should allow read operations if the user has users:all ability" time="0.0005"/><testcase file="test/trento/users/policy_test.exs" classname="Elixir.Trento.Users.PolicyTest" name="test should allow write operations if the user has all:users ability" time="0.0005"/><testcase file="test/trento/users/policy_test.exs" classname="Elixir.Trento.Users.PolicyTest" name="test should allow write operations if the user has all:all ability" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.Events.HostDetailsUpdatedTest" tests="1" time="0.0004"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/events/host_details_updated_test.exs" classname="Elixir.Trento.Hosts.Events.HostDetailsUpdatedTest" name="test HostDetailsUpdated event upcasting should upcast HostDetailsUpdated event properly from version 1" time="0.0004"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Prometheus.ChartIntegrationTest" tests="2" time="0.0015"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/prometheus/chart_integration_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.ChartIntegrationTest" name="test should return the samples when the query values are valid" time="0.0005"/><testcase file="test/trento/infrastructure/prometheus/chart_integration_test.exs" classname="Elixir.Trento.Infrastructure.Prometheus.ChartIntegrationTest" name="test should return the error if one of the values is not a valid value" time="0.0011"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Messaging.Adapter.AMQP.ConsumerTest" tests="2" time="0.0140"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/messaging/adapter/amqp/consumer_test.exs" classname="Elixir.Trento.Infrastructure.Messaging.Adapter.AMQP.ConsumerTest" name="test handle_message/1 should consume any incoming message" time="0.0016"/><testcase file="test/trento/infrastructure/messaging/adapter/amqp/consumer_test.exs" classname="Elixir.Trento.Infrastructure.Messaging.Adapter.AMQP.ConsumerTest" name="test handle_error/1 should reject unknown events and move them to the dead letter queue" time="0.0124"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" tests="14" time="0.0699"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should remove a database instance from the read model after a deregistration" time="0.0040"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the absent_at field when DatabaseInstanceMarkedAbsent event is received" time="0.0021"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should project a new database when DatabaseRegistered event is received" time="0.0019"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the system replication when DatabaseInstanceSystemReplicationChanged is received" time="0.0022"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should project a new database instance as Secondary" time="0.0032"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the absent_at field when DatabaseInstanceMarkedPresent event is received" time="0.0030"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the health of a Database when a DatabaseHealthChanged event is received" time="0.0035"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should project a new database instance as Primary" time="0.0043"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should restore a deregistered database when DatabaseRestored is received" time="0.0101"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the database read model after a deregistration" time="0.0041"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should project database tenants when DatabaseTenantsUpdated is received" time="0.0050"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should broadcast database_instance_health_changed when DatabaseInstanceHealthChanged is received" time="0.0064"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should project a new database instance when DatabaseInstanceRegistered event is received" time="0.0065"/><testcase file="test/trento/databases/projections/database_projector_test.exs" classname="Elixir.Trento.Databases.Projections.DatabaseProjectorTest" name="test should update the system replication when DatabaseInstanceSystemReplicationChanged with nil values is received" time="0.0136"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.Trento.Infrastructure.Checks.AMQP.ProcessorTest" tests="4" time="4.4759"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/checks/processor_test.exs" classname="Elixir.Trento.Infrastructure.Checks.AMQP.ProcessorTest" name="test process should process ExecutionStarted and broadcast to the socket" time="0.3192"/><testcase file="test/trento/infrastructure/checks/processor_test.exs" classname="Elixir.Trento.Infrastructure.Checks.AMQP.ProcessorTest" name="test process should process ExecutionCompleted and broadcast to the socket" time="0.4803"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 480ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  2) test process should process ExecutionCompleted and broadcast to the socket (Trento.Infrastructure.Checks.AMQP.ProcessorTest)
     test/trento/infrastructure/checks/processor_test.exs:63
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 480ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/channel_case.ex:34: TrentoWeb.ChannelCase.__ex_unit_setup_0/1
       (trento 2.4.0) test/support/channel_case.ex:1: TrentoWeb.ChannelCase.__ex_unit__/2
       test/trento/infrastructure/checks/processor_test.exs:1: Trento.Infrastructure.Checks.AMQP.ProcessorTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento/infrastructure/checks/processor_test.exs" classname="Elixir.Trento.Infrastructure.Checks.AMQP.ProcessorTest" name="test process should return error if the event cannot be decoded" time="0.3402"/><testcase file="test/trento/infrastructure/checks/processor_test.exs" classname="Elixir.Trento.Infrastructure.Checks.AMQP.ProcessorTest" name="test process should return error if the event handling fails" time="3.3362"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.SapSystemControllerTest" tests="6" time="8.1912"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test list should list all sap_systems" time="1.0913"/><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test forbidden response should return forbidden on any controller action if the user does not have the right permission" time="1.2820"/><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test delete should allow the request when the user has cleanup:application_instance ability" time="1.4877"/><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test delete should send 204 response on successful application instance deletion" time="1.4648"/><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test delete should send 404 response if the application instance is not found" time="1.9073"/><testcase file="test/trento_web/controllers/v1/sap_system_controller_test.exs" classname="Elixir.TrentoWeb.V1.SapSystemControllerTest" name="test delete should send 422 response if the application instance is still present" time="0.9581"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Hosts.HostTest" tests="55" time="0.0146"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should restore a deregistered host when a RegisterHost command with no new host information is received" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should emit a successful heartbeat and health change for a Host previously in critical status" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test provider should not update provider if the same provider is registered" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should restore a deregistered host when no new host information is received and trigger software updates discovery if the restored host has an FQDN" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test rollup should not accept commands if a host is in rolling up state" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should emit checks health change and aggregated health change according to heartbeat and checks execution result" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should restore, update and trigger software updates discovery for a deregistered host when FQDN changed" time="0.0005"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test provider should update aws provider" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update saptune health to warning when a SAP workload is found and saptune is not installed" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should emit relevant events when deregistering a host" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should not accept checks selection if a host is not registered yet" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should not update saptune status or health if the coming data is the same" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should reject all the commands except the registration ones when the host is deregistered" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update host health to warning when saptune version is not supported" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should restore and update a deregistered host but not trigger software updates discovery when FQDN stays null or gets nullified" time="0.0004"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test software updates discovery should clear software updates discovery result" time="0.0005"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should register a host" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should not update saptune status if it contains the same data" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test software updates discovery should not emit software updates health change when newly discovered software updates health does not change" time="0.0004"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test provider should update gcp provider" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should update host details if it is already registered" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should clear software updates discovery when FQDN gets nullified" time="0.0004"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update saptune status" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should remove saptune status when saptune is uninstalled" time="0.0004"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update saptune health to passing when a SAP workload is removed and saptune is not installed" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should restore and update a deregistered host when a RegisterHost command with new host information is received" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should not emit checks health change if previous execution result is the same as current" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test rollup should change the host state to rolling up" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test provider should update azure provider" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update host health correctly according the received tuning state" time="0.0005"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should register a host with an FQDN and emit software updates discovery request" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should update saptune version when status data is empty" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test provider should return an error if the host is not registered" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should not emit a request for software updates discovery when FQDN did not change on host details updated" time="0.0004"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should not emit a heartbeat failure nor health change for a Host already in critical status" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test software updates discovery should ignore clearing software updates discovery when there is nothing to clear up" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution unknown checks health should not affect aggregated host's health" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should emit a heartbeat failure and health change for a Host that hasn't heartbeated yet" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test software updates discovery should handle host's health change based on software updates discovery" time="0.0013"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should emit the HostDeregistrationRequest Event" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test sles subscriptions should update" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should not emit a successful heartbeat nor health change for a Host already in passing status" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should emit checks health change when previous execution result differs from current" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test saptune should not update host health if the current health has the same value" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should not update health when an empty checks selection is saved" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test checks execution should select desired checks for host" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test rollup should apply the rollup event and rehydrate the aggregate" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should emit a successful heartbeat and health change for a Host that hasn't heartbeated yet" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should update FQDN and emit a request for software updates discovery" time="0.0003"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test rollup should not accept a rollup command if a host was not registered yet" time="0.0001"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test host registration should not update host details if the same details were already registered" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test heartbeat should emit a heartbeat failure and health change for a Host previously in passing status" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should apply the HostDeregistered event and set the deregistration date into the state" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test software updates discovery should not accept software updates discovery commands if a host is not registered yet" time="0.0002"/><testcase file="test/trento/hosts/host_test.exs" classname="Elixir.Trento.Hosts.HostTest" name="test deregistration should clear up software updates discoveries on deregistration" time="0.0004"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.AboutJSONTest" tests="1" time="0.1188"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/about_view_json_test.exs" classname="Elixir.TrentoWeb.V1.AboutJSONTest" name="test should render about/1" time="0.1188"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseRestoreEventHandlerTest" tests="1" time="0.0056"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/database_restore_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.DatabaseRestoreEventHandlerTest" name="test should dispatch RestoreSapSystem commands when a database is restored" time="0.0056"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ClusterTest" tests="26" time="0.7469"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test discovered health should not change the the cluster aggregated health if checks health is worse" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test deregistration should emit the ClusterDeregistered and ClusterTombstoned events when the last ClusterHost is deregistered and set the deregistration date into the state" time="0.0002"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should not update health when an empty checks selection is saved" time="0.0002"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test deregistration should reject all the commands when the host is deregistered" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should change health state when checks health changes" time="0.0002"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster registration should register a cluster with full details and add the node host to the cluster if the node is a DC" time="0.0002"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test deregistration should emit the HostRemovedFromCluster event after a DeregisterClusterHost command and remove the host from the cluster aggregate state" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster details should not update cluster details if the details did not change" time="0.0005"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster details should update cluster details" time="0.0008"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should not change the the cluster aggregated health if discovery health is worse" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test deregistration should restore a deregistered cluster and perform the cluster update procedure when a RegisterClusterHost command from a DC host is received" time="0.0005"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster registration should register a cluster with unknown details when the cluster was not registered yet and a message from a non-DC is received" time="0.0002"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test deregistration should restore a deregistered cluster when a RegisterClusterHost command from a non DC host is received" time="0.0006"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster registration should add a host to the cluster if the host is a DC and the cluster is already registered" time="0.0004"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test rollup should not accept commands if a cluster is in rolling up state" time="0.0004"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should not change health if it is already critical" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test rollup should change the cluster state to rolling up" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test legacy events should ignore legacy events and not update the aggregate" time="0.0003"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test rollup should not accept a rollup command if a cluster was not registered yet" time="0.0001"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution unknown checks health should not affect aggregated cluster's health" time="0.0004"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test discovered health should change the discovered health and the cluster aggregated health" time="0.0008"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should use discovered cluster health when no checks are selected" time="0.0012"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test discovered health should not change the discovered health" time="0.3729"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test cluster registration should add a host to the cluster if the host is not a DC and the cluster is already registered" time="0.1427"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test checks execution should select desired checks" time="0.2219"/><testcase file="test/trento/clusters/cluster_test.exs" classname="Elixir.Trento.ClusterTest" name="test rollup should apply the rollup event" time="0.0007"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.OpenApi.ApiSpecTest" tests="2" time="0.0010"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/openapi/api_spec_test.exs" classname="Elixir.TrentoWeb.OpenApi.ApiSpecTest" name="test ApiSpec should render only the v1 version routes" time="0.0004"/><testcase file="test/trento_web/openapi/api_spec_test.exs" classname="Elixir.TrentoWeb.OpenApi.ApiSpecTest" name="test ApiSpec should render only the v2 version routes" time="0.0005"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Discovery.Policies.HostPolicyTest" tests="16" time="0.0966"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should emit update saptune command when a saptune_discovery without configuration is received" time="0.0013"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a subscription_discovery payload is handled" time="0.0087"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with a vmware provider is handled" time="0.0009"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a host_discovery payload is handled" time="0.0019"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an aws provider is handled" time="0.0085"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an azure provider is handled" time="0.0180"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an nutanix provider is handled" time="0.0007"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a host_discovery_with_installation_source payload is handled" time="0.0008"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a host_discovery payload with prometheus_targets is handled" time="0.0008"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should emit update saptune command when a saptune_discovery is received with status nil" time="0.0008"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an unknown provider is handled" time="0.0012"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should fail the validation of the saptune payload, when the payload is received malformed" time="0.0015"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an kvm provider is handled" time="0.0014"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should emit update saptune command when a saptune_discovery is received" time="0.0166"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a host_discovery payload without netmasks is handled" time="0.0086"/><testcase file="test/trento/discovery/policies/host_policy_test.exs" classname="Elixir.Trento.Discovery.Policies.HostPolicyTest" name="test should return the expected commands when a cloud_discovery payload with an gcp provider is handled" time="0.0249"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" tests="5" time="0.4094"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/event_handlers/software_updates_discovery_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" name="test Discovering software updates should discover software updates when a SoftwareUpdatesDiscoveryRequested is emitted" time="0.2358"/><testcase file="test/trento/infrastructure/commanded/event_handlers/software_updates_discovery_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" name="test Clearing up software updates discoveries should clear previously tracked software updates discoveries when a SoftwareUpdatesDiscoveryCleared is emitted" time="0.0076"/><testcase file="test/trento/infrastructure/commanded/event_handlers/software_updates_discovery_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" name="test Discovering software updates should discover data about hosts just when SUSE Manager's settings are set" time="0.0028"/><testcase file="test/trento/infrastructure/commanded/event_handlers/software_updates_discovery_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" name="test Host health changed Should broadcast 'host_software_updates_discovery_completed' message when SoftwareUpdatesHealthChanged is emitted" time="0.0017"/><testcase file="test/trento/infrastructure/commanded/event_handlers/software_updates_discovery_event_handler_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.EventHandlers.SoftwareUpdatesDiscoveryEventHandlerTest" name="test Discovering software updates should pass through failures" time="0.1615"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.HostJSONTest" tests="3" time="3.5965"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/host_view_json_test.exs" classname="Elixir.TrentoWeb.V1.HostJSONTest" name="test should render health changed relevant information" time="0.3026"/><testcase file="test/trento_web/views/v1/host_view_json_test.exs" classname="Elixir.TrentoWeb.V1.HostJSONTest" name="test should render single host information" time="1.5519"/><testcase file="test/trento_web/views/v1/host_view_json_test.exs" classname="Elixir.TrentoWeb.V1.HostJSONTest" name="test should render host details relevant information" time="1.7420"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.PhoenixConnParserTest" tests="7" time="0.0933"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test actor detection should get the actor from the request payload for login attempts" time="0.0004"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test metadata detection should extract component id when applying a checks selection" time="0.0005"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test metadata detection should extract component id when requesting checks execution" time="0.0011"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test actor detection should get the actor from the current user" time="0.0880"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test metadata detection should extract the request body as metadata for relevant activities" time="0.0010"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test actor detection should fallback to system actor" time="0.0015"/><testcase file="test/trento/activity_logging/phoenix_conn_parser_test.exs" classname="Elixir.Trento.ActivityLog.PhoenixConnParserTest" name="test metadata detection should extract operation metadata from requested operation" time="0.0008"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystems.PolicyTest" tests="4" time="0.0012"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems/policy_test.exs" classname="Elixir.Trento.SapSystems.PolicyTest" name="test should allow delete_application_instance action if the user has cleanup:application_instance ability" time="0.0002"/><testcase file="test/trento/sap_systems/policy_test.exs" classname="Elixir.Trento.SapSystems.PolicyTest" name="test should allow delete_application_instance action if the user has all:all ability" time="0.0002"/><testcase file="test/trento/sap_systems/policy_test.exs" classname="Elixir.Trento.SapSystems.PolicyTest" name="test should allow unguarded actions" time="0.0004"/><testcase file="test/trento/sap_systems/policy_test.exs" classname="Elixir.Trento.SapSystems.PolicyTest" name="test should disallow delete_application_instance action if the user does not have cleanup:application_instance ability" time="0.0004"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterClusterHostTest" tests="3" time="0.0098"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_cluster_host_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterClusterHostTest" name="test should create a new enriched cluster entry on register_cluster_host command" time="0.0025"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_cluster_host_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterClusterHostTest" name="test stripping irrelevant cluster node attributes should strip irrelevant lpt attributes from hana-scale-up cluster nodes" time="0.0017"/><testcase file="test/trento/infrastructure/commanded/middleware/enrich_register_cluster_host_test.exs" classname="Elixir.Trento.Infrastructure.Commanded.Middleware.EnrichRegisterClusterHostTest" name="test stripping irrelevant cluster node attributes should not strip attributes from non hana-scale-up cluster nodes" time="0.0056"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Infrastructure.SoftwareUpdates.Adapter.SumaHttpExecutorTest" tests="1" time="0.0006"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/infrastructure/software_updates/adapter/suma_http_executor_test.exs" classname="Elixir.Trento.Infrastructure.SoftwareUpdates.Adapter.SumaHttpExecutorTest" name="test Http executor certificate handling should support chained certificates" time="0.0006"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" tests="9" time="3.2074"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should redirect to the correct path with a subroute path when the route is recognized in the available versions list" time="0.3916"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test init/1 should raise ArgumentError when :available_api_versions option is missing" time="0.1993"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should redirect to the newest version path when this version is available" time="0.5398"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should return 404 with the error view when the path is not recognized by the router because match the ApiRedirectorPlug" time="0.3690"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test init/1 should raise ArgumentError when :available_api_versions is an empty list" time="0.2704"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should return 404 with the error view when the path is not recognized by the router" time="0.4404"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 440ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  6) test call/2 should return 404 with the error view when the path is not recognized by the router (TrentoWeb.Plugs.ApiRedirectorTest)
     test/trento_web/plugs/api_redirector_test.exs:34
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 440ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/plugs/api_redirector_test.exs:1: TrentoWeb.Plugs.ApiRedirectorTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should redirect to the next available version path if the newest version is not available" time="0.4578"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test init/1 should raise ArgumentError when :router option is missing" time="0.1903"/><testcase file="test/trento_web/plugs/api_redirector_test.exs" classname="Elixir.TrentoWeb.Plugs.ApiRedirectorTest" name="test call/2 should redirect to the correctly versioned path with also a query string" time="0.3488"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Operations.ClusterPolicyTest" tests="3" time="0.7219"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/operations/cluster_policy_test.exs" classname="Elixir.Trento.Operations.ClusterPolicyTest" name="test should forbid unknown operation" time="0.0002"/><testcase file="test/trento/operations/cluster_policy_test.exs" classname="Elixir.Trento.Operations.ClusterPolicyTest" name="test maintenance should authorize operation depending on the cluster maintenance mode" time="0.0004"/><testcase file="test/trento/operations/cluster_policy_test.exs" classname="Elixir.Trento.Operations.ClusterPolicyTest" name="test maintenance should authorize operation depending on the given cluster resource managed state" time="0.7213"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.SettingsJSONTest" tests="1" time="2.2977"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/settings_view_json_test.exs" classname="Elixir.TrentoWeb.V1.SettingsJSONTest" name="test renders suse_manager.json should render relevant fields" time="2.2977"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" tests="11" time="0.0592"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should restore a SAP system when SapSystemRestored is received" time="0.0072"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should project a new SAP System when a SapSystemRegistered event is received" time="0.0038"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should update the absent_at field when ApplicationInstanceMarkedAbsent event is received" time="0.0026"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should broadcast application_instance_health_changed when ApplicationInstanceHealthChanged event is received" time="0.0045"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should remove an application instance from the read model after a deregistration" time="0.0084"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should update the health of a SAP System when a SapSystemHealthChanged event is received" time="0.0044"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should move the application instance when an ApplicationInstanceMoved is received" time="0.0063"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should update an already existing SAP System when a SapSystemUpdated event is received" time="0.0038"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should update read model after deregistration" time="0.0039"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should project a new application instance when ApplicationInstanceRegistered event is received" time="0.0041"/><testcase file="test/trento/sap_systems/projections/sap_system_projector_test.exs" classname="Elixir.Trento.SapSystems.Projections.SapSystemProjectorTest" name="test should update the absent_at field when ApplicationInstanceMarkedPresent event is received" time="0.0101"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Support.IntermediateEventTest" tests="3" time="0.0197"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/support/intermediate_event_test.exs" classname="Elixir.Trento.Support.IntermediateEventTest" name="test upcast an event" time="0.0006"/><testcase file="test/trento/support/intermediate_event_test.exs" classname="Elixir.Trento.Support.IntermediateEventTest" name="test upcast a superseded event" time="0.0190"/><testcase file="test/trento/support/intermediate_event_test.exs" classname="Elixir.Trento.Support.IntermediateEventTest" name="test upcast with custom supersede function" time="0.0002"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.ActivityLog.MetadataQueryParserTest" tests="3" time="0.0008"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/activity_logging/metadata_query_parser_test.exs" classname="Elixir.Trento.ActivityLog.MetadataQueryParserTest" name="test Metadata query parsing into Jsonpath expressions Should parse successfully." time="0.0003"/><testcase file="test/trento/activity_logging/metadata_query_parser_test.exs" classname="Elixir.Trento.ActivityLog.MetadataQueryParserTest" name="test Metadata query parsing into Jsonpath expressions should recognize empty queries" time="0.0002"/><testcase file="test/trento/activity_logging/metadata_query_parser_test.exs" classname="Elixir.Trento.ActivityLog.MetadataQueryParserTest" name="test Metadata query parsing into Jsonpath expressions Should not parse successfully" time="0.0003"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest" tests="4" time="4.6833"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/authenticate_apikey_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest" name="test should reject an Unauthorized request" time="0.4335"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 410ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  1) test should reject an Unauthorized request (TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest)
     test/trento_web/plugs/authenticate_apikey_plug_test.exs:16
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 410ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/plugs/authenticate_apikey_plug_test.exs:1: TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/plugs/authenticate_apikey_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest" name="test should accept an Authenticated request with the correct jti" time="0.1456"/><testcase file="test/trento_web/plugs/authenticate_apikey_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest" name="test should not accept a request with an invalid token" time="1.1270"/><testcase file="test/trento_web/plugs/authenticate_apikey_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.AuthenticateAPIKeyPlugTest" name="test should not accept an Authenticated request with the incorrect jti" time="2.9772"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V2.ClusterControllerTest" tests="2" time="0.9682"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v2/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V2.ClusterControllerTest" name="test list should be compliant with ASCS/ERS clusters schema" time="0.3782"/><testcase file="test/trento_web/controllers/v2/cluster_controller_test.exs" classname="Elixir.TrentoWeb.V2.ClusterControllerTest" name="test list should be compliant with Hana Cluster details schema" time="0.5900"/></testsuite><testsuite errors="0" failures="1" skipped="0" name="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" tests="5" time="4.2503"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/plugs/activity_logging_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" name="test should log activity on requests without user information - method: get" time="0.4247"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 424ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  1) test should log activity on requests without user information - method: get (TrentoWeb.Plugs.ActivityLoggingPlugTest)
     test/trento_web/plugs/activity_logging_plug_test.exs:10
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 424ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/plugs/activity_logging_plug_test.exs:1: TrentoWeb.Plugs.ActivityLoggingPlugTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/plugs/activity_logging_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" name="test should log activity on requests without user information - method: delete" time="0.1499"/><testcase file="test/trento_web/plugs/activity_logging_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" name="test should log activity on requests without user information - method: post" time="0.7320"/><testcase file="test/trento_web/plugs/activity_logging_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" name="test should log activity on requests without user information - method: patch" time="2.4717"/><testcase file="test/trento_web/plugs/activity_logging_plug_test.exs" classname="Elixir.TrentoWeb.Plugs.ActivityLoggingPlugTest" name="test should log activity on requests without user information - method: put" time="0.4720"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.Databases.Events.DatabaseRolledUpTest" tests="2" time="0.0005"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/databases/events/database_rolled_up_test.exs" classname="Elixir.Trento.Databases.Events.DatabaseRolledUpTest" name="test DatabaseRolledUp event upcasting, version 2 should upcast the current snapshot format when the snapshot has legacy data" time="0.0002"/><testcase file="test/trento/databases/events/database_rolled_up_test.exs" classname="Elixir.Trento.Databases.Events.DatabaseRolledUpTest" name="test DatabaseRolledUp event upcasting, version 2 should upcast the current snapshot format" time="0.0003"/></testsuite><testsuite errors="0" failures="2" skipped="0" name="Elixir.TrentoWeb.V1.PrometheusControllerTest" tests="4" time="1.3993"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/prometheus_controller_test.exs" classname="Elixir.TrentoWeb.V1.PrometheusControllerTest" name="test should return the expected targets" time="0.3161"/><testcase file="test/trento_web/controllers/v1/prometheus_controller_test.exs" classname="Elixir.TrentoWeb.V1.PrometheusControllerTest" name="test should return the exporters status" time="0.4822"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 482ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  2) test should return the exporters status (TrentoWeb.V1.PrometheusControllerTest)
     test/trento_web/controllers/v1/prometheus_controller_test.exs:27
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 482ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/controllers/v1/prometheus_controller_test.exs:1: TrentoWeb.V1.PrometheusControllerTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/controllers/v1/prometheus_controller_test.exs" classname="Elixir.TrentoWeb.V1.PrometheusControllerTest" name="test should return a 500 if the exporters status cannot be fetched" time="0.4008"><failure message="error: no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: &quot;connection not available and request was dropped from queue after 401ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n&quot;, severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c&quot;lib/db_connection/ownership.ex&quot;, line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 509]}, {Ecto.Adapters.SQL.Sandbox, :&quot;-start_owner!/2-fun-0-&quot;, 3, [file: ~c&quot;lib/ecto/adapters/sql/sandbox.ex&quot;, line: 416]}, {Agent.Server, :init, 1, [file: ~c&quot;lib/agent/server.ex&quot;, line: 8]}, {:gen_server, :init_it, 2, [file: ~c&quot;gen_server.erl&quot;, line: 980]}, {:gen_server, :init_it, 6, [file: ~c&quot;gen_server.erl&quot;, line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c&quot;proc_lib.erl&quot;, line: 241]}]}}">  3) test should return a 500 if the exporters status cannot be fetched (TrentoWeb.V1.PrometheusControllerTest)
     test/trento_web/controllers/v1/prometheus_controller_test.exs:60
     ** (MatchError) no match of right hand side value: {:error, {%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 401ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:\n\n  1. Ensuring your database is available and that you can connect to it\n  2. Tracking down slow queries and making sure they are running fast enough\n  3. Increasing the pool_size (although this increases resource consumption)\n  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval\n\nSee DBConnection.start_link/2 for more information\n", severity: :error, reason: :queue_timeout}, [{DBConnection.Ownership, :ownership_checkout, 2, [file: ~c"lib/db_connection/ownership.ex", line: 109, error_info: %{module: Exception}]}, {Ecto.Adapters.SQL.Sandbox, :checkout, 2, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 509]}, {Ecto.Adapters.SQL.Sandbox, :"-start_owner!/2-fun-0-", 3, [file: ~c"lib/ecto/adapters/sql/sandbox.ex", line: 416]}, {Agent.Server, :init, 1, [file: ~c"lib/agent/server.ex", line: 8]}, {:gen_server, :init_it, 2, [file: ~c"gen_server.erl", line: 980]}, {:gen_server, :init_it, 6, [file: ~c"gen_server.erl", line: 935]}, {:proc_lib, :init_p_do_apply, 3, [file: ~c"proc_lib.erl", line: 241]}]}}
     stacktrace:
       (ecto_sql 3.11.3) lib/ecto/adapters/sql/sandbox.ex:413: Ecto.Adapters.SQL.Sandbox.start_owner!/2
       (trento 2.4.0) test/support/conn_case.ex:42: TrentoWeb.ConnCase.__ex_unit_setup_1/1
       (trento 2.4.0) test/support/conn_case.ex:1: TrentoWeb.ConnCase.__ex_unit__/2
       test/trento_web/controllers/v1/prometheus_controller_test.exs:1: TrentoWeb.V1.PrometheusControllerTest.__ex_unit__/2
</failure></testcase><testcase file="test/trento_web/controllers/v1/prometheus_controller_test.exs" classname="Elixir.TrentoWeb.V1.PrometheusControllerTest" name="test should return 404 if the host is not registered" time="0.2001"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.ActivityLogJSONTest" tests="3" time="0.2560"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/views/v1/activity_log_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogJSONTest" name="test should render plain activity_log_entry.json" time="0.0873"/><testcase file="test/trento_web/views/v1/activity_log_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogJSONTest" name="test should render redacted activity_log_entry.json" time="0.0779"/><testcase file="test/trento_web/views/v1/activity_log_view_json_test.exs" classname="Elixir.TrentoWeb.V1.ActivityLogJSONTest" name="test should render not redacted system activity as activity_log_entry.json" time="0.0907"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.Trento.HeartbeatsTest" tests="4" time="0.0124"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento/heartbeats_test.exs" classname="Elixir.Trento.HeartbeatsTest" name="test create new heartbeat" time="0.0032"/><testcase file="test/trento/heartbeats_test.exs" classname="Elixir.Trento.HeartbeatsTest" name="test update existing heartbeat" time="0.0032"/><testcase file="test/trento/heartbeats_test.exs" classname="Elixir.Trento.HeartbeatsTest" name="test filter deregistered hosts from heartbeat failed check" time="0.0029"/><testcase file="test/trento/heartbeats_test.exs" classname="Elixir.Trento.HeartbeatsTest" name="test dispatch commands on heartbeat expiration" time="0.0030"/></testsuite><testsuite errors="0" failures="0" skipped="0" name="Elixir.TrentoWeb.V1.UsersControllerTest" tests="22" time="20.9962"><properties><property name="date" value="2025-05-07T07:47:02.472616Z"/><property name="seed" value="450092"/></properties><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should update the user if parameters are valid" time="0.4668"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not update the user if parameters are valid but an error is returned from update operation" time="0.4614"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test create user should not create the user when request parameters are valid but error are returned during creation" time="0.5601"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test forbidden response should return not implemented on create endpoint when external idp integration is enabled" time="0.3593"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test create user should create the user when parameters are valid" time="0.9077"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test show user should not show the user when does not exists" time="0.4197"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not update an existing user if the body is empty in a patch operation" time="0.4914"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test delete user should delete a user when the user is found" time="0.5768"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test forbidden response should return forbidden on any controller action if the user does not have the right permission" time="0.7707"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test delete user should not delete a user when the user is not found" time="0.4291"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test show user should show the user when user exists" time="0.6524"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should disable the TOTP feature for a user" time="0.5017"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not update the user if parameters are not valid" time="0.5993"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should only update abilities and enabled when sso is enabled" time="0.9060"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should update the user with abilities" time="1.5451"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should return 404 if the user does not exists" time="1.1548"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not update the user when the request conditional prerequisite is missing" time="1.2977"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test create user should not create the user when request parameters are not valid" time="1.2688"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not update the user when the request conditional prerequisite is failing due to mid-air collision" time="1.4938"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test index lists all users" time="1.9340"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test create user should create the user with abilities" time="0.9592"/><testcase file="test/trento_web/controllers/v1/users_controller_test.exs" classname="Elixir.TrentoWeb.V1.UsersControllerTest" name="test update user should not perform an update when sso is enabled and abilities or enabled are not passed" time="3.2406"/></testsuite></testsuites>